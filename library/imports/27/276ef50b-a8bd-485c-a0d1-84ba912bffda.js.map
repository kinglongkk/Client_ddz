{"version":3,"sources":["../../../../../assets/script/ui/assets/script/ui/ddz_UICreatRoom.js"],"names":["app","require","cc","Class","extends","subGameName","properties","prefab_Toggles","Prefab","node_RightLayout","Node","scroll_Right","ScrollView","scrollTip","btnCreate","btnSave","OnCreateInit","roomcostConfig","SysDataManager","GetTableDict","gameCreateConfig","LocalDataManager","FormManager","ddz_FormManager","ComTool","ddz_ComTool","RedColor1","Color","RedColor2","WhiteClolor","gameType","lastParentBtnIcon","lastChildBtnIcon","Toggles","addPrefabWidth","rightPrefabSpacing","getComponent","Layout","spacingY","find","node","on","EventType","TOUCH_START","OnRightBgClick","RegEvent","Event_CodeError","OnShow","serverPack","gamename","clubData","clubWinnerPayConsume","gdToggleIndex","ShowForm","enableGameType","RefreshAllToggles","CloseForm","ShowBtn","event","codeInfo","ShareDefine","CLUB_CreateCfgMax","SysNotifyManager","ShowSysMsg","GetLocalConfig","configName","clubId","roomKey","sys","localStorage","getItem","SetLocalConfig","configInfo","setItem","stopAutoScroll","removeAllChildren","isHideZhadanfenshu","helpIndex","key","GameName","dataKey","Key","toggleCount","ToggleCount","AtRows","AtRow","toString","split","instantiate","addCount","ErrLog","i","prefabNode","getChildByName","newNode","name","addChild","x","nodeHelp","active","IsShowHelp","OnHelpBtnClick","fristPos","y","lastPos","curNode","height","OnToggleClick","checkNode","icon_selectBg","showList","ShowIndexs","linshi","gameIndex","linshiList","j","length","parseInt","ToggleType","imgPath","addComponent","Toggle","SetNodeImageByFilePath","push","UpdateTogglesLabel","UpdateLabelColor","line","addline","setHelpBtnPos","scrollToTop","OnClose","TogglesNode","curKey","substring","reg","AAfangfeiDatas","WinfangfeiDatas","FangZhufangfeiDatas","clubFangFeiDatas","clubWinFangFeiDatas","title","Title","replace","Label","string","descList","ToggleDesc","children","jushuIndex","renshuIndex","renshu","publicCosts","getCostData","getCurSelectRenShu","SpiltCosts","curCostData","mark","SetCount","AaCostCount","WinCostCount","CostCount","ClubCount","ClubWinCostCount","descInde","startsWith","ffNodes","s","needNode","toggleNode","isChecked","label","color","fangkaNode","helpNode","lastNode","labelNode","str","maxWidth","width","fangfeiNode","n","costs","toUpperCase","GameType","PeopleMin","PeopleMax","OnClickForm","btnNode","target","btnName","Click_btn_help","toggles","parent","toggle","toggleIndex","needClearList","needShowIndexList","ClearToggleCheck","showIndexList","OnScrollEnded","OnClick","Click_btn_create","that","curIndex","msgID","then","formComponent","wndSize","GetMsgWndSize","btnNodeParentPosition","convertToWorldSpaceAR","getPosition","btnX","btnY","SetFormPosition","v2","catch","error","stack","close","Click_btn_buy","clientConfig","GetClientConfig","PackDefine","APPLE_CHECK","needIndex","AtRowArr","createType","isSpiltRoomCard","GetIdxByKey","needCostData","hasRoomCard","ddz_HeroManager","GetHeroProperty","costCoun","desc","ddz_SysNotifyManager","GetSysMsgContentByMsgID","ddz_ConfirmManager","SetWaitForConfirmForm","OnConFirm","bind","ConfirmBuyGoTo","setCount","sendPack","dizhufengding","quedingdizhu","xianShi","jiesan","sandai","sidai","kexuanwanfa","gaoji","fangjian","roomMgr","DDZRoomMgr","item","configData","dataType","linshi2","default1","new1","EditBox","default2","new2","clubCostType","SendCreateRoom","SetGameType","SetConfigProperty","clickType","backArgList"],"mappings":"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","file":"ddz_UICreatRoom.js","sourceRoot":"../../../../../assets/script/ui","sourcesContent":["var app = require(\"ddz_app\");\r\ncc.Class({\r\n    extends: require(app.subGameName + \"_BaseForm\"),\r\n\r\n    properties: {\r\n        prefab_Toggles: cc.Prefab,\r\n\r\n        node_RightLayout:cc.Node,\r\n\r\n        scroll_Right:cc.ScrollView,\r\n        scrollTip:cc.Node,\r\n\r\n        btnCreate:cc.Node,\r\n        btnSave:cc.Node,\r\n    },\r\n\r\n    //初始化\r\n    OnCreateInit:function(){\r\n        this.roomcostConfig = this.SysDataManager.GetTableDict(\"roomcost\");\r\n        this.gameCreateConfig = this.SysDataManager.GetTableDict(\"gameCreate\");\r\n        this.LocalDataManager = app.LocalDataManager();\r\n        this.FormManager = app.ddz_FormManager();\r\n        this.ComTool = app.ddz_ComTool();\r\n\r\n        this.RedColor1 = new cc.Color(0, 155, 46);\r\n        this.RedColor2 = new cc.Color(158, 49, 16);\r\n        this.WhiteClolor = new cc.Color(79,79,79);\r\n\r\n        this.gameType = '';\r\n        this.lastParentBtnIcon = null;\r\n        this.lastChildBtnIcon = null;\r\n        this.Toggles = {};\r\n\r\n        this.addPrefabWidth = 320;   \r\n        this.rightPrefabSpacing = this.node_RightLayout.getComponent(cc.Layout).spacingY;\r\n\r\n        cc.find('sp_room/rightFrame/mark',this.node).on(cc.Node.EventType.TOUCH_START,this.OnRightBgClick,this);\r\n\r\n        this.RegEvent(\"CodeError\", this.Event_CodeError, this);\r\n    },\r\n    //--------------显示函数-----------------\r\n    OnShow:function(serverPack,gamename='ddz',clubData=null){\r\n        this.clubWinnerPayConsume=0;\r\n        this.gdToggleIndex = -1;\r\n        this.gameType=gamename;\r\n        this.clubData = clubData;\r\n        this.FormManager.ShowForm(app.subGameName + \"_UITop\", app.subGameName + \"_UICreatRoom\",true,true,false);\r\n\r\n        if(clubData && '' != clubData.enableGameType)\r\n            this.gameType = clubData.enableGameType;\r\n\r\n        this.RefreshAllToggles();\r\n        this.FormManager.CloseForm(app.subGameName + \"_UIMessageTip\");\r\n        //设置按钮\r\n        this.ShowBtn();\r\n    },\r\n\r\n    Event_CodeError:function(event){\r\n        let codeInfo = event;\r\n        if(codeInfo[\"Code\"] == this.ShareDefine.CLUB_CreateCfgMax){\r\n            app.SysNotifyManager().ShowSysMsg('MSG_CLUB_CreateCfgMax');\r\n            return;\r\n        }\r\n    },\r\n    //获取创建缓存\r\n    GetLocalConfig:function(configName,clubId,roomKey){\r\n        return cc.sys.localStorage.getItem(this.gameType+'_'+clubId+'_'+roomKey+'_'+ configName);\r\n    },\r\n    SetLocalConfig:function(configName,configInfo,clubId,roomKey){\r\n        cc.sys.localStorage.setItem(this.gameType+'_'+clubId+'_'+roomKey+'_'+configName,configInfo);\r\n    },\r\n    RefreshAllToggles:function(){\r\n        this.Toggles = {};\r\n        this.scroll_Right.stopAutoScroll();\r\n        this.node_RightLayout.removeAllChildren();\r\n\r\n        let isHideZhadanfenshu = false;\r\n\r\n        let helpIndex = 1;//01是总帮助\r\n        for(let key in this.gameCreateConfig){\r\n            if(this.gameType == this.gameCreateConfig[key].GameName){\r\n                let node = null;\r\n                let dataKey = this.gameCreateConfig[key].Key;\r\n                let toggleCount = this.gameCreateConfig[key].ToggleCount;\r\n                let AtRows = this.gameCreateConfig[key].AtRow.toString().split(',');\r\n                if(this.clubData && 'fangfei' == dataKey){\r\n                    toggleCount = 3;  //一个管理付，一个大赢家付\r\n                    AtRows=[1,2,3];\r\n                }\r\n                node = cc.instantiate(this.prefab_Toggles);\r\n                //需要判断添更加多的Toggle\r\n                let addCount = toggleCount - 1;\r\n                if(addCount < 0)\r\n                    this.ErrLog('gameCreate Config ToggleCount error');\r\n                else{\r\n                    for(let i=2;i<=toggleCount;i++){\r\n                        let prefabNode = node.getChildByName('Toggle1');\r\n                        let newNode = cc.instantiate(prefabNode);\r\n                        newNode.name = 'Toggle' + i;\r\n                        node.addChild(newNode);\r\n                    }\r\n                }\r\n                \r\n                node.name = 'Toggles_' + dataKey;\r\n                node.x = 10;\r\n                let nodeHelp = node.getChildByName('btn_help');\r\n                nodeHelp.active = false;\r\n                if(this.gameCreateConfig[key].IsShowHelp){\r\n                    nodeHelp.name = 'btn_help0' + helpIndex;\r\n                    nodeHelp.on('click',this.OnHelpBtnClick,this);\r\n                    nodeHelp.active = true;\r\n                    helpIndex++;\r\n                }\r\n\r\n\r\n                if(!this.Toggles[dataKey])\r\n                    this.Toggles[dataKey] = [];\r\n\r\n                let fristPos = {x:0,y:0};\r\n                let lastPos = {x:0,y:0};\r\n                for(let i=1; i<=toggleCount; i++){\r\n                    let curNode = node.getChildByName('Toggle' + i);\r\n                    if(curNode){\r\n                        //位置宽高设置下\r\n                        //记录下第一个的位置方便换行\r\n                        if(1 == i){\r\n                            fristPos.x = curNode.x;\r\n                            fristPos.y = curNode.y;\r\n                            lastPos.x = curNode.x;\r\n                            lastPos.y = curNode.y;\r\n                        }\r\n                        else if(1 < i){//第1个以后都是新增的\r\n                            if(AtRows[i-2] != AtRows[i-1]){\r\n                                curNode.x = fristPos.x;\r\n                                curNode.y = lastPos.y - curNode.height - this.rightPrefabSpacing;\r\n                                node.height = node.height + curNode.height + this.rightPrefabSpacing;\r\n                            }\r\n                            else{\r\n                                curNode.x = lastPos.x + this.addPrefabWidth;\r\n                                curNode.y = lastPos.y;\r\n                            }\r\n                        }\r\n                        lastPos.x = curNode.x;\r\n                        lastPos.y = curNode.y;\r\n                        \r\n                        curNode.on(cc.Node.EventType.TOUCH_START,this.OnToggleClick,this);\r\n                        let checkNode = curNode.getChildByName('checkmark');\r\n                        let icon_selectBg = curNode.getChildByName('icon_selectBg');\r\n                        let showList = this.gameCreateConfig[key].ShowIndexs.toString().split(',');\r\n                        //尝试获取缓存\r\n                        let clubId = 0;\r\n                        let roomKey = '0';\r\n                        let linshi = null;\r\n                        if(this.clubData){\r\n                            clubId = this.clubData.clubId;\r\n                            roomKey = this.clubData.gameIndex;\r\n                            linshi = this.GetLocalConfig(this.gameCreateConfig[key].Key,clubId,roomKey);\r\n                        }\r\n                        //第一次创建俱乐部房间没有roomKey为0\r\n                        if(!linshi)\r\n                            linshi = this.GetLocalConfig(this.gameCreateConfig[key].Key,clubId,'0');\r\n                        if(linshi){\r\n                            let linshiList = linshi.split(',');\r\n                            for(let j=0;j<linshiList.length;j++){//缓存可能出BUG(配置删除了按钮数量)\r\n                                if(parseInt(linshiList[j]) > toggleCount){\r\n                                    linshiList = ['1'];\r\n                                    break;\r\n                                }\r\n                            }\r\n                            showList=linshiList;\r\n                        }\r\n                        if(this.clubData && 'fangfei' == dataKey)\r\n                            showList = [3];\r\n                        \r\n                        //尝试获取缓存\r\n                        if(0 == this.gameCreateConfig[key].ToggleType && 1 != showList.length)\r\n                            this.ErrLog('gameCreate Config ToggleType and ShowIndexs error');\r\n\r\n                        if(1 == this.gameCreateConfig[key].ToggleType){//多选的图片设置下(不放上面是因为路径)\r\n                            let imgPath = 'texture/ui/ddz_UICreateRoom/icon_checkin02';\r\n                            node.addComponent(cc.Toggle);\r\n                            this.SetNodeImageByFilePath(checkNode,imgPath);\r\n                            this.SetNodeImageByFilePath(icon_selectBg, 'texture/ui/ddz_UICreateRoom/icon_check02');\r\n                        }\r\n\r\n                        for(let j=0;j<showList.length;j++){\r\n                            if(i == parseInt(showList[j])){\r\n                                checkNode.active = true;\r\n                                break;\r\n                            }\r\n                            else{\r\n                                checkNode.active = false;\r\n                            }\r\n                        }\r\n                        this.Toggles[dataKey].push(curNode);\r\n\r\n                    }\r\n                }\r\n                this.UpdateTogglesLabel(node);\r\n                this.UpdateLabelColor(node);\r\n                this.node_RightLayout.addChild(node);\r\n                let line=this.scroll_Right.node.getChildByName('line');\r\n                let addline=cc.instantiate(line);\r\n                addline.active=true;\r\n                this.node_RightLayout.addChild(addline);\r\n            }\r\n        }\r\n        this.setHelpBtnPos();\r\n        this.scroll_Right.scrollToTop();\r\n        //如果可以滚动，显示滚动提示节点\r\n        if (this.node_RightLayout.height > this.scroll_Right.node.height) {\r\n            this.scrollTip.active = true;\r\n        }else{\r\n            this.scrollTip.active = false;\r\n        }\r\n    },\r\n\r\n    OnClose:function(){\r\n\r\n    },\r\n    ShowBtn:function(){\r\n        if(this.clubData){\r\n            this.btnCreate.active = false;\r\n            this.btnSave.active = false;\r\n            if(0 == this.clubData.gameIndex)\r\n                this.btnCreate.active = true;\r\n            else\r\n                this.btnSave.active = true;\r\n        }\r\n        else{\r\n            this.btnCreate.active = true;\r\n            this.btnSave.active = false;\r\n\r\n        }\r\n    },\r\n    UpdateTogglesLabel:function (TogglesNode) {\r\n        let curKey = TogglesNode.name.substring(('Toggles_').length,TogglesNode.name.length);\r\n        let reg = /\\/s/g;\r\n        for(let key in this.gameCreateConfig){\r\n            if(this.gameType == this.gameCreateConfig[key].GameName){\r\n                if(curKey == this.gameCreateConfig[key].Key){\r\n                    let AAfangfeiDatas = [];\r\n                    let WinfangfeiDatas = [];\r\n                    let FangZhufangfeiDatas = [];\r\n                    let clubFangFeiDatas=[];\r\n                    let clubWinFangFeiDatas=[];\r\n                    let title = this.gameCreateConfig[key].Title.replace(reg, ' ');\r\n                    TogglesNode.getChildByName('title').getComponent(cc.Label).string = title;\r\n                    let descList = [];\r\n                    if('jushu' != curKey){//局数读roomcost\r\n                        descList = this.gameCreateConfig[key].ToggleDesc.split(',');\r\n                        if(this.clubData && 'fangfei' == curKey)\r\n                            descList = ['管理付','AA付','胜家付'];\r\n                        if(descList.length != TogglesNode.children.length -2){//减去标题和帮助按钮\r\n                            this.ErrLog('gameCreate config ToggleDesc and Toggle count error');\r\n                            break;\r\n                        }\r\n                    }\r\n                    let jushuIndex = -1;\r\n                    let renshuIndex = -1;\r\n                    let renshu = [];//0表示读房主支付配置\r\n                    if('renshu' == curKey || 'fangfei' == curKey || 'jushu' == curKey){\r\n                        \r\n                        let publicCosts = this.getCostData(renshu);\r\n\r\n                        if(this.Toggles['renshu'])\r\n                            renshu = this.getCurSelectRenShu();\r\n\r\n                        let SpiltCosts = this.getCostData(renshu);\r\n                        let curCostData = null;\r\n                        if(0 == renshu.length){\r\n                            curCostData = publicCosts;\r\n                        }\r\n                        else{\r\n                            curCostData = SpiltCosts;\r\n                        }\r\n                        if(this.Toggles['jushu']){\r\n                            jushuIndex = 0;\r\n                            for(let i=0;i<this.Toggles['jushu'].length;i++){\r\n                                let mark = this.Toggles['jushu'][i].getChildByName('checkmark').active;\r\n                                if(mark){\r\n                                    jushuIndex = i;\r\n                                    break;\r\n                                }\r\n                                jushuIndex++;\r\n                            }\r\n                            for(let i=0; i<curCostData.length; i++){\r\n                                this.Toggles['jushu'][i].getChildByName('label').getComponent(cc.Label).string = curCostData[i].SetCount + '局';\r\n                            }\r\n                        }\r\n                        if(this.Toggles['fangfei'] && -1 != jushuIndex){\r\n                            if(jushuIndex < publicCosts.length){\r\n                                AAfangfeiDatas.push(publicCosts[jushuIndex].AaCostCount);\r\n                                WinfangfeiDatas.push(publicCosts[jushuIndex].WinCostCount);\r\n                                FangZhufangfeiDatas.push(publicCosts[jushuIndex].CostCount);\r\n\r\n                                clubFangFeiDatas.push(publicCosts[jushuIndex].ClubCount);\r\n                                clubWinFangFeiDatas.push(publicCosts[jushuIndex].ClubWinCostCount);\r\n                            }\r\n                            if(jushuIndex < SpiltCosts.length){\r\n                                AAfangfeiDatas.push(SpiltCosts[jushuIndex].AaCostCount);\r\n                                WinfangfeiDatas.push(SpiltCosts[jushuIndex].WinCostCount);\r\n                                FangZhufangfeiDatas.push(SpiltCosts[jushuIndex].CostCount);\r\n\r\n                                clubFangFeiDatas.push(SpiltCosts[jushuIndex].ClubCount);\r\n                                clubWinFangFeiDatas.push(SpiltCosts[jushuIndex].ClubWinCostCount);\r\n                            }\r\n                        }\r\n                    }\r\n                    if('jushu' != curKey){\r\n                        let descInde = 0;\r\n                        for(let i=0;i<TogglesNode.children.length;i++){\r\n                            if(TogglesNode.children[i].name.startsWith('Toggle')){\r\n                                TogglesNode.children[i].getChildByName('label').getComponent(cc.Label).string = descList[descInde];\r\n                                descInde++;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    if(0 != AAfangfeiDatas.length){\r\n                        let ffNodes = this.Toggles['fangfei'];\r\n                        for(let s=0;s<ffNodes.length;s++){\r\n                            let needNode = ffNodes[s].getChildByName('fangfeiNode');\r\n                            needNode.active = true;\r\n                            if(this.clubData==null){\r\n                                if(0 == s)\r\n                                    needNode.getChildByName('needNum').getComponent(cc.Label).string = 'x' + FangZhufangfeiDatas[FangZhufangfeiDatas.length - 1];\r\n                                else if(1 == s)\r\n                                    needNode.getChildByName('needNum').getComponent(cc.Label).string = 'x' + AAfangfeiDatas[AAfangfeiDatas.length - 1];\r\n                                else{\r\n                                    needNode.getChildByName('needNum').getComponent(cc.Label).string = 'x' + WinfangfeiDatas[WinfangfeiDatas.length - 1];\r\n                                }\r\n                            }else{\r\n                                if(0 == s)\r\n                                    needNode.getChildByName('needNum').getComponent(cc.Label).string = 'x' + renshu[0]*AAfangfeiDatas[AAfangfeiDatas.length - 1];\r\n                                else if(1==s){\r\n                                    needNode.getChildByName('icon').active=false;\r\n                                    needNode.getChildByName('icon_qk').active=true;\r\n                                    needNode.getChildByName('needNum').getComponent(cc.Label).string = 'x' + clubFangFeiDatas[clubFangFeiDatas.length - 1];\r\n                                    needNode.getChildByName('needNum').clubWinnerPayConsume=clubFangFeiDatas[clubFangFeiDatas.length - 1];\r\n                                    ffNodes[s].getChildByName('editbox').active=true;\r\n                                }else{\r\n                                    needNode.getChildByName('icon').active=false;\r\n                                    needNode.getChildByName('icon_qk').active=true;\r\n                                    needNode.getChildByName('needNum').getComponent(cc.Label).string = 'x' + clubWinFangFeiDatas[clubWinFangFeiDatas.length - 1];\r\n                                    needNode.getChildByName('needNum').clubWinnerPayConsume=clubWinFangFeiDatas[clubWinFangFeiDatas.length - 1];\r\n                                    ffNodes[s].getChildByName('editbox').active=true;\r\n                                }\r\n                            } \r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n    UpdateLabelColor:function(TogglesNode){\r\n        for(let i=0;i<TogglesNode.children.length;i++){\r\n            let toggleNode = TogglesNode.children[i];\r\n            if(toggleNode.name.startsWith('Toggle')){\r\n                let isChecked = toggleNode.getChildByName('checkmark').active;\r\n                for(let j=0;j<toggleNode.children.length;j++){\r\n                    let label = toggleNode.children[j].getComponent(cc.Label);\r\n                    if(null != label){\r\n                        if(isChecked){\r\n                            toggleNode.children[j].color = this.RedColor1;\r\n                        }\r\n                        else{\r\n                            toggleNode.children[j].color = this.RedColor2;\r\n                        }\r\n                    }\r\n                    let fangkaNode = toggleNode.getChildByName('fangfeiNode');\r\n                    if(fangkaNode.active){\r\n                        label = null;\r\n                        for(let s=0;s<fangkaNode.children.length;s++){\r\n                            label = fangkaNode.children[s].getComponent(cc.Label);\r\n                            if(null != label){\r\n                                if(isChecked){\r\n                                    fangkaNode.children[s].color = this.RedColor1;\r\n                                }\r\n                                else{\r\n                                    fangkaNode.children[s].color = this.RedColor2;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n    setHelpBtnPos:function(){//垃圾label控件自适应宽度有BUG草泥马\r\n        let helpNode = null;\r\n        let lastNode = null;\r\n        let Toggles = null;\r\n        for(let j=0;j<this.node_RightLayout.children.length;j++){\r\n            if(j%2==1){\r\n                continue;\r\n            }\r\n            Toggles = this.node_RightLayout.children[j];\r\n            helpNode = null;\r\n            lastNode = null;\r\n            for(let i=0;i<Toggles.children.length;i++){\r\n                if(Toggles.children[i].name.startsWith('Toggle'))\r\n                    lastNode = Toggles.children[i];\r\n                else if(Toggles.children[i].name.startsWith('btn_help'))\r\n                    helpNode = Toggles.children[i];\r\n                \r\n                if(helpNode && helpNode.active && lastNode){\r\n                    let labelNode = lastNode.getChildByName('label');\r\n                    let str = lastNode.getChildByName('label').getComponent(cc.Label);\r\n                    let maxWidth = 0;\r\n                    let label = lastNode.getChildByName('label');\r\n                    if(label){\r\n                        maxWidth = label.x + label.width;\r\n                        label = null;\r\n                    }\r\n                    let fangfeiNode = lastNode.getChildByName('fangfeiNode');\r\n                    if(fangfeiNode.active){\r\n                        for(let n=0;n<fangfeiNode.children.length;n++){\r\n                            let label = fangfeiNode.children[n].getComponent(cc.Label);\r\n                            if(label){\r\n                                maxWidth = fangfeiNode.x + label.node.x + label.node.width;\r\n                                label = null;\r\n                            }\r\n                        }\r\n                    }\r\n                    helpNode.x = lastNode.x + maxWidth + 60;\r\n                    helpNode.y = lastNode.y;\r\n                }\r\n            }\r\n        }\r\n    },\r\n    getCostData:function(renshu){//renshu =0 房主支付\r\n        let costs = [];\r\n        if (renshu.length != 2) {\r\n            return costs;\r\n        }\r\n        for(let key in this.roomcostConfig){\r\n            if(this.gameType.toUpperCase() == this.roomcostConfig[key].GameType &&\r\n               parseInt(renshu[0]) == this.roomcostConfig[key].PeopleMin &&\r\n               parseInt(renshu[1]) == this.roomcostConfig[key].PeopleMax){\r\n                costs.push(this.roomcostConfig[key]);\r\n            }\r\n\r\n        }\r\n        if(0 == costs.length)\r\n            this.ErrLog('roomcost Config error');\r\n        return costs;\r\n    },\r\n    OnClickForm:function () {\r\n        this.FormManager.CloseForm(app.subGameName + \"_UIMessageTip\");\r\n    },\r\n\r\n    //---------点击函数---------------------\r\n    OnHelpBtnClick:function(event){\r\n        let btnNode = event.target;\r\n        let btnName = btnNode.name;\r\n        if(btnName.startsWith(\"btn_help\")){\r\n            this.Click_btn_help(btnName,btnNode);\r\n        }\r\n    },\r\n    OnToggleClick:function(event){\r\n        this.FormManager.CloseForm(app.subGameName + \"_UIMessageTip\");\r\n        let toggles = event.target.parent;\r\n        let toggle = event.target;\r\n        let key = toggles.name.substring(('Toggles_').length,toggles.name.length);\r\n        let toggleIndex = parseInt(toggle.name.substring(('Toggle').length,toggle.name.length)) - 1;\r\n        let needClearList = [];\r\n        let needShowIndexList = [];\r\n        needClearList = this.Toggles[key];\r\n        needShowIndexList.push(toggleIndex);\r\n        if('jushu' == key || 'renshu' == key || 'fangfei' == key){      \r\n            this.ClearToggleCheck(needClearList,needShowIndexList);\r\n            this.UpdateLabelColor(toggles);\r\n            this.UpdateTogglesLabel(toggles);\r\n            return;\r\n        }\r\n        else if('kexuanwanfa' == key){\r\n\r\n        }\r\n        else{\r\n\r\n        }\r\n        if(toggles.getComponent(cc.Toggle)){//复选框\r\n            needShowIndexList = [];\r\n            for(let i=0;i<needClearList.length;i++){\r\n                let mark = needClearList[i].getChildByName('checkmark').active;\r\n                //如果复选框为勾选状态并且点击的复选框不是该复选框，则继续保持勾选状态\r\n                if(mark && i != toggleIndex){\r\n                    needShowIndexList.push(i);\r\n                }\r\n                //如果复选框为未勾选状态并且点击的复选框是该复选框，则切换为勾选状态\r\n                else if(!mark && i == toggleIndex){\r\n                    needShowIndexList.push(i);\r\n                }\r\n            }\r\n        }\r\n        this.ClearToggleCheck(needClearList,needShowIndexList);\r\n        this.UpdateLabelColor(toggles,'fangfei' == key ? true : false);\r\n    },\r\n    ClearToggleCheck:function(toggles,showIndexList){\r\n        for(let i=0;i<toggles.length;i++)\r\n            toggles[i].getChildByName('checkmark').active = false;\r\n        \r\n        if(showIndexList){\r\n            for(let i=0;i<toggles.length;i++){\r\n                for(let j=0;j<showIndexList.length;j++){\r\n                    if(i == showIndexList[j])\r\n                        toggles[i].getChildByName('checkmark').active = true;\r\n                }\r\n            } \r\n        }\r\n    },\r\n    OnRightBgClick:function(event){\r\n        this.FormManager.CloseForm(app.subGameName + \"_UIMessageTip\");\r\n    },\r\n    //滑动结束\r\n    OnScrollEnded:function(){\r\n        this.scrollTip.active = false;\r\n    },\r\n    OnClick:function(btnName, btnNode){\r\n        if('btn_create' == btnName){\r\n            this.Click_btn_create(1);\r\n            this.FormManager.CloseForm(app.subGameName + \"_UIMessageTip\");\r\n        }\r\n        else if('btn_save' == btnName){\r\n            this.Click_btn_create(3);\r\n            this.FormManager.CloseForm(app.subGameName + \"_UIMessageTip\");\r\n        }\r\n        else if('btn_close' == btnName){\r\n            this.FormManager.CloseForm(app.subGameName + \"_UIMessageTip\");\r\n            this.CloseForm();\r\n        }\r\n        else if('rightFrame' == btnName)\r\n            this.FormManager.CloseForm(app.subGameName + \"_UIMessageTip\");\r\n        else if(btnName == \"btn_help01\"){\r\n            this.FormManager.ShowForm(app.subGameName + \"_UIGameHelp\");\r\n            // this.FormManager.CloseForm(app.subGameName + \"_UIMessageTip\");\r\n        }\r\n        else if(btnName.startsWith(\"Toggle\")){\r\n            this.FormManager.CloseForm(app.subGameName + \"_UIMessageTip\");\r\n        }\r\n        else{\r\n            this.FormManager.CloseForm(app.subGameName + \"_UIMessageTip\");\r\n            this.ErrLog(\"OnClick(%s) not find\", btnName);\r\n        }\r\n\r\n    },\r\n\r\n    Click_btn_help:function (btnName, btnNode) {\r\n        let that = this;\r\n        let gameType = this.gameType;\r\n        let curIndex = btnName.substring(('btn_help0').length,btnName.length);\r\n        let msgID = 'UIMessageTip_Help' + curIndex + '_' + gameType\r\n        this.FormManager.ShowForm(app.subGameName + \"_UIMessageTip\", msgID)\r\n            .then(function(formComponent){\r\n                let wndSize = formComponent.GetMsgWndSize();\r\n                let btnNodeParentPosition = btnNode.parent.convertToWorldSpaceAR(btnNode.getPosition());\r\n                let btnX = btnNodeParentPosition.x - that.node.width/2 - wndSize.width/2 - btnNode.width/2;\r\n                let btnY = 0;\r\n                if(wndSize.height > that.node.height/2)\r\n                    btnY = that.node.convertToWorldSpaceAR(that.node.getPosition()).y - that.node.height/2;\r\n                else\r\n                    btnY = btnNodeParentPosition.y - that.node.height/2; - wndSize.height/2 + btnNode.height/2;\r\n                formComponent.SetFormPosition(cc.v2(btnX,btnY));\r\n            })\r\n            .catch(function(error){\r\n                that.ErrLog(\"error:%s\", error.stack);\r\n            })\r\n    },\r\n    close:function(){\r\n        this.FormManager.CloseForm(\"UICreatRoom\");\r\n    },\r\n    Click_btn_buy:function () {\r\n        let clientConfig = app[app.subGameName + \"Client\"].GetClientConfig();\r\n        if (app.PackDefine.APPLE_CHECK == clientConfig[\"appPackType\"]) return\r\n        this.FormManager.ShowForm(\"UIStore\");\r\n    },\r\n    getCurSelectRenShu:function(){\r\n        let renshu = 0;\r\n        let needIndex = -1;\r\n        if(this.Toggles['renshu']){\r\n            for(let i=0;i<this.Toggles['renshu'].length;i++){\r\n                let toggle = this.Toggles['renshu'][i].getChildByName('checkmark');\r\n                if(toggle.active){\r\n                    needIndex = i;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        for(let key in this.gameCreateConfig){\r\n            if(this.gameType == this.gameCreateConfig[key].GameName && 'renshu'==this.gameCreateConfig[key].Key){\r\n                let AtRows = this.gameCreateConfig[key].ToggleDesc.toString().split(',');\r\n                // return AtRows[needIndex].replace('人','').replace('2-','');\r\n                let AtRowArr = [];\r\n                AtRowArr = AtRows[needIndex].replace('人','').split('-');\r\n                if (AtRowArr.length == 1) {\r\n                    //只是固定人数，没有配置浮动人数，最大最小都一样\r\n                    AtRowArr.push(AtRowArr[0]);\r\n                }\r\n                return AtRowArr;\r\n            }\r\n        }\r\n    },\r\n    //创建房间\r\n    Click_btn_create:function(createType){\r\n        let isSpiltRoomCard =this.GetIdxByKey('fangfei');\r\n        let renshu = [];\r\n        if(isSpiltRoomCard){\r\n            renshu = this.getCurSelectRenShu();\r\n        }\r\n        renshu = this.getCurSelectRenShu();//发给服务器人数用选的\r\n        let needCostData = this.getCostData(renshu);\r\n        if(!needCostData){\r\n            this.ErrLog('Click_btn_create Not CostData');\r\n            return;\r\n        }\r\n        let hasRoomCard = app.ddz_HeroManager().GetHeroProperty(\"roomCard\");\r\n\r\n        let jushuIndex = this.GetIdxByKey('jushu');\r\n        if(-1 == jushuIndex || jushuIndex >= needCostData.length){\r\n            this.ErrLog('Click_btn_create error -1 == jushuIndex || jushuIndex >= needCostData.length');\r\n            return;\r\n        }\r\n        let costCoun = needCostData[jushuIndex].CostCount;\r\n        if(this.clubData==null){\r\n            if(hasRoomCard < costCoun){//金币不足\r\n                let desc = app.ddz_SysNotifyManager().GetSysMsgContentByMsgID(\"MSG_NotRoomCard\");\r\n                app.ddz_ConfirmManager().SetWaitForConfirmForm(this.OnConFirm.bind(this), \"goBuyCard\", []);\r\n                app.ddz_FormManager().ShowForm(app.subGameName + \"_UIMessage\", null, this.ShareDefine.ConfirmBuyGoTo, 0, 0, desc)\r\n                return;\r\n            }\r\n        }\r\n        let setCount = needCostData[jushuIndex].SetCount;\r\n        let sendPack = {};\r\n        if (\"ddz\" == this.gameType){\r\n            let dizhufengding = this.GetIdxByKey('dizhufengding');\r\n            let quedingdizhu = this.GetIdxByKey('quedingdizhu');\r\n            let xianShi = this.GetIdxByKey('xianShi');\r\n            let jiesan = this.GetIdxByKey('jiesan');\r\n            let sandai = [];\r\n            for (let i = 0; i < this.Toggles['sandai'].length; i++) {\r\n                if (this.Toggles['sandai'][i].getChildByName('checkmark').active) {\r\n                    sandai.push(i);\r\n                }\r\n            }\r\n            let sidai = [];\r\n            for (let i = 0; i < this.Toggles['sidai'].length; i++) {\r\n                if (this.Toggles['sidai'][i].getChildByName('checkmark').active) {\r\n                    sidai.push(i);\r\n                }\r\n            }\r\n            let kexuanwanfa = [];\r\n            for (let i = 0; i < this.Toggles['kexuanwanfa'].length; i++) {\r\n                if (this.Toggles['kexuanwanfa'][i].getChildByName('checkmark').active) {\r\n                    kexuanwanfa.push(i);\r\n                }\r\n            }\r\n            let gaoji=[];\r\n            for(let i=0;i<this.Toggles['gaoji'].length;i++){\r\n                if(this.Toggles['gaoji'][i].getChildByName('checkmark').active){\r\n                    gaoji.push(i);\r\n                }\r\n            }\r\n            let fangjian=[];\r\n            for(let i=0;i<this.Toggles['fangjian'].length;i++){\r\n                if(this.Toggles['fangjian'][i].getChildByName('checkmark').active){\r\n                    fangjian.push(i);\r\n                }\r\n            }\r\n            sendPack = {\r\n                \"setCount\":setCount,\r\n                \"playerMinNum\":renshu[0],\r\n                \"playerNum\":renshu[1],\r\n                \"paymentRoomCardType\":isSpiltRoomCard,\r\n                \"dizhufengding\":dizhufengding,\r\n                \"quedingdizhu\":quedingdizhu,\r\n                \"gaoji\":gaoji,\r\n                \"fangjian\":fangjian,\r\n                \"xianShi\":xianShi,\r\n                \"jiesan\":jiesan,\r\n                \"kexuanwanfa\":kexuanwanfa,\r\n                \"sandai\":sandai,\r\n                \"sidai\":sidai,\r\n            };\r\n        }\r\n        \r\n        let roomMgr = app.DDZRoomMgr();\r\n        //记录到本地缓存\r\n        for(var item in sendPack) {\r\n            let configData=sendPack[item];\r\n            let dataType=typeof(configData);\r\n            if(dataType=='object'){\r\n                let linshi2='0';\r\n                for(let i=0;i<configData.length;i++){\r\n                    if(i==0){\r\n                        linshi2=configData[0]+1;\r\n                    }else{\r\n                        linshi2=linshi2+','+(configData[i]+1);\r\n                    }\r\n                }\r\n                configData=linshi2;\r\n            }else{\r\n                if(item=='playerNum'){\r\n                    item='renshu';\r\n                }else if(item=='setCount'){\r\n                    item='jushu';\r\n                }else if(item=='paymentRoomCardType'){\r\n                    item='fangfei';\r\n                }else if(item=='cardNum'){\r\n                    item='shoupai';\r\n                }else if(item=='resultCalc'){\r\n                    item='jiesuan';\r\n                }else if(item=='maxAddDouble'){\r\n                    item='fengdingbeishu';\r\n                }\r\n                configData=this.GetIdxByKey(item)+1;\r\n            }\r\n            let clubId = 0;\r\n            let roomKey = '0';\r\n            if(this.clubData){\r\n                clubId = this.clubData.clubId;\r\n                roomKey = this.clubData.gameIndex;\r\n            }\r\n            this.SetLocalConfig(item,configData,clubId,roomKey);\r\n        }\r\n        //记录到本地缓存\r\n        if(roomMgr){\r\n            if(1 == createType || 3 == createType){\r\n                if(this.clubData){\r\n                    sendPack.clubId = this.clubData.clubId;\r\n                    sendPack.gameIndex = this.clubData.gameIndex;\r\n                    if(this.clubData!=null){\r\n                        if(isSpiltRoomCard == 0){\r\n                            this.clubWinnerPayConsume=0;\r\n                        }else if(isSpiltRoomCard == 1){\r\n                            let default1=this.Toggles['fangfei'][1].getChildByName('fangfeiNode').getChildByName('needNum').clubWinnerPayConsume;\r\n                            let new1=parseInt(this.Toggles['fangfei'][1].getChildByName('editbox').getComponent(cc.EditBox).string);\r\n                            if(new1>0 && new1>default1){\r\n                                this.clubWinnerPayConsume=new1;\r\n                            }else{\r\n                                this.clubWinnerPayConsume=default1;\r\n                            }\r\n                        }else if(isSpiltRoomCard == 2){\r\n                            let default2=this.Toggles['fangfei'][2].getChildByName('fangfeiNode').getChildByName('needNum').clubWinnerPayConsume;\r\n                            let new2=parseInt(this.Toggles['fangfei'][2].getChildByName('editbox').getComponent(cc.EditBox).string);\r\n                            if(new2>0 && new2>default2){\r\n                                this.clubWinnerPayConsume=new2;\r\n                            }else{\r\n                                this.clubWinnerPayConsume=default2;\r\n                            }\r\n                        }\r\n                    }else{\r\n                        this.clubWinnerPayConsume=0;\r\n                    }\r\n                    sendPack.clubWinnerPayConsume=this.clubWinnerPayConsume;\r\n                    if(this.clubWinnerPayConsume>0){\r\n                        sendPack.clubCostType=1;\r\n                    }else{\r\n                        sendPack.clubCostType=0;\r\n                    }\r\n                    createType = 3;\r\n                }\r\n            }\r\n            sendPack.createType=createType;\r\n            roomMgr.SendCreateRoom(sendPack);\r\n            app[app.subGameName + \"Client\"].SetGameType(this.gameType);\r\n            this.LocalDataManager.SetConfigProperty(\"SysSetting\", \"LastGameType\",this.gameType);\r\n        }\r\n    },\r\n    GetIdxByKey:function(key){\r\n        if(!this.Toggles[key])\r\n            return -1;\r\n        for(let i=0;i<this.Toggles[key].length;i++){\r\n            let mark = this.Toggles[key][i].getChildByName('checkmark').active;\r\n            if(mark)\r\n                return i;\r\n        }\r\n    },\r\n    OnConFirm:function(clickType, msgID, backArgList){\r\n        if(clickType != \"Sure\"){\r\n            return\r\n        }\r\n        if(\"goBuyCard\" == msgID){\r\n            // let clientConfig = app[app.subGameName + \"Client\"].GetClientConfig();\r\n            // if (app.PackDefine.APPLE_CHECK == clientConfig[\"appPackType\"]) return\r\n            // app.FormManager().ShowForm(\"UIStore\");\r\n            return;\r\n        }\r\n    }\r\n});"]}