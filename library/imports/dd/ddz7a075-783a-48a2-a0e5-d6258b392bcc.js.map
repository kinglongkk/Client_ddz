{"version":3,"sources":["../../../../../../../assets/script/game/DDZ/room/assets/script/game/DDZ/room/DDZRoomSet.js"],"names":["app","require","DDZRoomSet","BaseClass","extend","Init","JS_Name","ComTool","subGameName","ShareDefine","OnReload","Log","dataInfo","InitSetInfo","setInfo","console","log","OnInitRoomSetData","state","DDZSetStateStringDict","hasOwnProperty","OnSetStart","DDZSetState_FaPai","OnSetPlaying","opPos","OnSetEnd","setEnd","DDZSetState_End","GetRoomSetProperty","property","ErrLog","SetRoomSetProperty","value","GetRoomSetInfo","GetHandCard","posInfo","i","length","pid","GetHeroProperty","cards","g_DDZRoomSet","exports","GetModel"],"mappings":"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","file":"DDZRoomSet.js","sourceRoot":"../../../../../../../assets/script/game/DDZ/room","sourcesContent":["/*\r\n *  ----------------------------------------------------------------------------------------------------\r\n *  @copyright: Copyright (c) 2004, 2010 Xiamen DDM Network Technology Co.,Ltd., All rights reserved.\r\n *  ----------------------------------------------------------------------------------------------------\r\n *  @package SSSRoomSet.js\r\n *  @todo: 十三水房间\r\n *\r\n *  @author hongdian\r\n *  @date 2014-10-30 16:04\r\n *  @version 1.0\r\n *\r\n *  修改时间 修改人 修改内容\r\n *  -------------------------------------------------------------------------------\r\n *\r\n */\r\nvar app = require(\"ddz_app\");\r\n\r\n/**\r\n * 类构造\r\n */\r\nvar DDZRoomSet = app.BaseClass.extend({\r\n\r\n\t/**\r\n\t * 初始化\r\n\t */\r\n\tInit:function(){\r\n\r\n\t\tthis.JS_Name = \"DDZRoomSet\";\r\n\r\n\t\tthis.ComTool = app[app.subGameName + \"_ComTool\"]();\r\n\t\tthis.ShareDefine = app[app.subGameName + \"_ShareDefine\"]();\r\n\r\n\t\tthis.OnReload();\r\n\t\tthis.Log(\"Init\");\r\n\r\n\t},\r\n\r\n\tOnReload:function(){\r\n\t\tthis.dataInfo = {};\r\n\t},\r\n\r\n\tInitSetInfo:function(setInfo){\r\n\t\tconsole.log('InitSetInfo', setInfo);\r\n\r\n\t\tthis.dataInfo = setInfo;\r\n\t},\r\n\r\n\r\n\t//-----------------------回调函数-----------------------------\r\n\tOnInitRoomSetData:function(setInfo){\r\n\t\tthis.InitSetInfo(setInfo);\r\n\t\tlet state = this.dataInfo[\"state\"];\r\n\r\n\t\tif(this.ShareDefine.DDZSetStateStringDict.hasOwnProperty(state)){\r\n\t\t\tthis.dataInfo[\"state\"] = this.ShareDefine.DDZSetStateStringDict[state];\r\n\t\t}\r\n\t\telse{\r\n\t\t\t// this.ErrLog(\"OnInitRoomSetData state:%s not find\", state);\r\n\t\t}\r\n\t\tthis.Log(\"OnInitRoomSetData:\", this.dataInfo);\r\n\t},\r\n\r\n\tOnSetStart:function(setInfo){\r\n\t\tthis.InitSetInfo(setInfo);\r\n\t\tthis.dataInfo[\"state\"] = this.ShareDefine.DDZSetState_FaPai;\r\n\t},\r\n\r\n\tOnSetPlaying:function(opPos, state){\r\n\t\tthis.dataInfo[\"opPos\"] = opPos;\r\n\t\tthis.dataInfo[\"state\"] = state;\r\n\t},\r\n\r\n\tOnSetEnd:function(setEnd){\r\n\t\tthis.dataInfo[\"setEnd\"] = setEnd;\r\n\t\tthis.dataInfo[\"state\"] = this.ShareDefine.DDZSetState_End;\r\n\t\tthis.Log(\"OnSetEnd:\", this.dataInfo);\r\n\t},\r\n\r\n\r\n\t//----------------获取接口--------------------\r\n\r\n\t//获取set属性值\r\n\tGetRoomSetProperty:function(property){\r\n\t\tif(!this.dataInfo.hasOwnProperty(property)){\r\n\t\t\tthis.ErrLog(\"GetSetProperty(%s) not find\", property);\r\n\t\t\treturn\r\n\t\t}\r\n\t\treturn this.dataInfo[property];\r\n\t},\r\n\r\n\tSetRoomSetProperty:function(property, value){\r\n\t\tif(!this.dataInfo.hasOwnProperty(property)){\r\n\t\t\tthis.ErrLog(\"SetSetProperty(%s) not find\", property);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.dataInfo[property] = value;\r\n\t},\r\n\r\n\tGetRoomSetInfo:function(){\r\n\t\treturn this.dataInfo;\r\n\t},\r\n\r\n\tGetHandCard:function(){\r\n\t\tlet posInfo = this.dataInfo[\"posInfo\"];\r\n\t\tfor(let i = 0; i < posInfo.length; i++){\r\n\t\t\tif(posInfo[i].pid == app[app.subGameName + \"_HeroManager\"]().GetHeroProperty(\"pid\")){\r\n\t\t\t\treturn posInfo[i].cards;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n})\r\n\r\nvar g_DDZRoomSet = null;\r\n\r\n/**\r\n * 绑定模块外部方法\r\n */\r\nexports.GetModel = function(){\r\n\tif(!g_DDZRoomSet)\r\n\t\tg_DDZRoomSet = new DDZRoomSet();\r\n\treturn g_DDZRoomSet;\r\n}\r\n"]}