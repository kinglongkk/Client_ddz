{"version":3,"sources":["../../../../../../../assets/script/game/DDZ/room/assets/script/game/DDZ/room/DDZRoomMgr.js"],"names":["app","require","DDZRoomMgr","BaseClass","extend","Init","JS_Name","ComTool","subGameName","ShareDefine","NetManager","SysNotifyManager","DDZRoom","RegNetPack","toUpperCase","OnPack_CreateRoom","OnPack_GetRoomInfo","OnPack_RoomRecord","OnPack_SetStart","OnPack_SetEnd","OnPack_RoomEnd","OnPack_RoomStart","OnPack_OpCard","OnPack_ChangeStatus","OnPack_AddDouble","OnPack_OpenCard","OnPack_Hog","OnPack_OpenStartGame","OnPack_CardNumber","OnPack_ChatMessage","OnPack_SportsPointNotEnough","OnPack_SportsPointEnough","OnPack_SportsPointThresholdNotEnough","OnPack_SportsPointThresholdEnough","OnPack_SportsPointChange","RegEvent","Event_CodeError","HeroManager","OnReload","Log","enterRoomID","loginEnterRoomKey","OnSwithSceneEnd","sceneType","event","codeInfo","NotEnoughCoin","ShowSysMsg","serverPack","agrs","Object","keys","length","createType","ShowForm","CloseForm","SendGetRoomInfo","roomID","ExitGame","clubId","unionId","OnInitRoomData","ddz_SceneManager","GetSceneType","LoadScene","lastIs3DShow","LocalDataManager","GetConfigProperty","setInfo","OnSetStart","OnEvent","OnSetEnd","ErrLog","OnSportsPointChange","console","log","OnPlaying","OnRoomEnd","records","RoomRecord","GetEnterRoomID","GetEnterRoom","SendGetCurRoomID","SendPack","SendCreateRoom","sendPack","callback","errorCb","success","error","SendDissolveRoom","SendReady","posIndex","SendUnReady","SendKickPosIndex","SendStartRoomGame","SendOpenCardStart","isContinue","isOpenCard","SendContinueGame","SendDissolveRoomAgree","SendDissolveRoomRefuse","SendExitRoom","pos","SendRoomRecord","sendEveryGameRecord","SendEndRoom","SendOpCard","SendAddDouble","addDouble","SendOpenCard","isOpen","multiple","SendHog","hog","SendFaPaiFinish","g_DDZRoomMgr","exports","GetModel"],"mappings":"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","file":"DDZRoomMgr.js","sourceRoot":"../../../../../../../assets/script/game/DDZ/room","sourcesContent":["/*\r\n *  ----------------------------------------------------------------------------------------------------\r\n *  @copyright: Copyright (c) 2004, 2010 Xiamen DDM Network Technology Co.,Ltd., All rights reserved.\r\n *  ----------------------------------------------------------------------------------------------------\r\n *  @package SSSRoomMgr.js\r\n *  @todo: 十三水麻将\r\n *\r\n *  @date 2014-10-30 16:04\r\n *  @version 1.0\r\n *\r\n *  修改时间 修改人 修改内容\r\n *  -------------------------------------------------------------------------------\r\n *\r\n */\r\nvar app = require(\"ddz_app\");\r\n\r\n/**\r\n * 类构造\r\n */\r\nvar DDZRoomMgr = app.BaseClass.extend({\r\n\r\n\t/**\r\n\t * 初始化\r\n\t */\r\n\tInit:function(){\r\n\r\n\t\tthis.JS_Name = \"DDZRoomMgr\";\r\n\r\n\t\tthis.ComTool = app[app.subGameName + \"_ComTool\"]();\r\n\t\tthis.ShareDefine = app[app.subGameName + \"_ShareDefine\"]();\r\n\t\tthis.NetManager = app[app.subGameName + \"_NetManager\"]();\r\n\t\tthis.SysNotifyManager = app[app.subGameName + \"_SysNotifyManager\"]();\r\n\r\n\t\tthis.DDZRoom = app.DDZRoom();\r\n\r\n\t\tthis.NetManager.RegNetPack(app.subGameName + \".C\"+app.subGameName.toUpperCase()+\"CreateRoom\", this.OnPack_CreateRoom, this);\r\n\t\tthis.NetManager.RegNetPack(app.subGameName + \".C\"+app.subGameName.toUpperCase()+\"GetRoomInfo\", this.OnPack_GetRoomInfo, this);\r\n\t\tthis.NetManager.RegNetPack(app.subGameName + \".C\"+app.subGameName.toUpperCase()+\"RoomRecord\", this.OnPack_RoomRecord, this);\r\n\r\n\t\t//notify\r\n\t\tthis.NetManager.RegNetPack(\"S\"+app.subGameName.toUpperCase()+\"_SetStart\", this.OnPack_SetStart, this);\r\n\t\tthis.NetManager.RegNetPack(\"S\"+app.subGameName.toUpperCase()+\"_SetEnd\", this.OnPack_SetEnd, this);\r\n\r\n\t\tthis.NetManager.RegNetPack(\"S\"+app.subGameName.toUpperCase()+\"_RoomEnd\", this.OnPack_RoomEnd, this);\r\n\t\tthis.NetManager.RegNetPack(\"S\"+app.subGameName.toUpperCase()+\"_RoomStart\", this.OnPack_RoomStart, this);\r\n\t\tthis.NetManager.RegNetPack(\"S\"+app.subGameName.toUpperCase()+\"_OpCard\", this.OnPack_OpCard, this);\r\n\t\tthis.NetManager.RegNetPack(\"S\"+app.subGameName.toUpperCase()+\"_ChangeStatus\", this.OnPack_ChangeStatus, this);\r\n\t\tthis.NetManager.RegNetPack(\"S\"+app.subGameName.toUpperCase()+\"_AddDouble\", this.OnPack_AddDouble, this);\r\n\t\tthis.NetManager.RegNetPack(\"S\"+app.subGameName.toUpperCase()+\"_OpenCard\", this.OnPack_OpenCard, this);\r\n\t\tthis.NetManager.RegNetPack(\"S\"+app.subGameName.toUpperCase()+\"_Hog\", this.OnPack_Hog, this);\r\n\t\tthis.NetManager.RegNetPack(\"S\"+app.subGameName.toUpperCase()+\"_OpenStartGame\", this.OnPack_OpenStartGame, this);\r\n\t\tthis.NetManager.RegNetPack(\"S\"+app.subGameName.toUpperCase()+\"_CardNumber\", this.OnPack_CardNumber, this);\r\n\t\tthis.NetManager.RegNetPack(\"S\"+app.subGameName.toUpperCase()+\"_Chatmessage\", this.OnPack_ChatMessage, this);\r\n\t\t//比赛分通知\r\n\t\tthis.NetManager.RegNetPack(\"S\"+app.subGameName.toUpperCase()+\"_SportsPointNotEnough\", this.OnPack_SportsPointNotEnough, this);\r\n\t\tthis.NetManager.RegNetPack(\"S\"+app.subGameName.toUpperCase()+\"_SportsPointEnough\", this.OnPack_SportsPointEnough, this);\r\n\t\t//比赛分门槛通知\r\n        this.NetManager.RegNetPack(\"S\" + app.subGameName.toUpperCase() + \"_SportsPointThresholdNotEnough\", this.OnPack_SportsPointThresholdNotEnough, this);\r\n        this.NetManager.RegNetPack(\"S\" + app.subGameName.toUpperCase() + \"_SportsPointThresholdEnough\", this.OnPack_SportsPointThresholdEnough, this);\r\n\t\tthis.NetManager.RegNetPack(\"SRoom_SportsPointChange\", this.OnPack_SportsPointChange, this);\r\n\t\tapp[app.subGameName + \"Client\"].RegEvent(\"CodeError\", this.Event_CodeError, this);\r\n\r\n\t\tthis.HeroManager = app[app.subGameName + \"_HeroManager\"]();\r\n\r\n\t\tthis.OnReload();\r\n\r\n\t\tthis.Log(\"Init\");\r\n\t},\r\n\r\n\t/**\r\n\t * 重登\r\n\t */\r\n\tOnReload:function(){\r\n\t\tthis.enterRoomID = 0;\r\n\t\t//获取启动客户端进入的房间KEY\r\n\t\tthis.loginEnterRoomKey = 0;\r\n\r\n\t\tthis.DDZRoom.OnReload();\r\n\t},\r\n\r\n\tOnSwithSceneEnd:function(sceneType){\r\n\r\n\t\t//如果退出房间场景了,清除数据\r\n\t\tif(sceneType != \"fightScene\"){\r\n\t\t\tthis.OnReload();\r\n\t\t}\r\n\t},\r\n\r\n\t//----------------------收包接口-----------------------------\r\n\tEvent_CodeError:function(event){\r\n        let codeInfo = event;\r\n        if(codeInfo[\"Code\"] == app[app.subGameName + \"_ShareDefine\"]().NotEnoughCoin){\r\n        \tapp[app.subGameName + \"_SysNotifyManager\"]().ShowSysMsg('金币不足，无法创建房间');\r\n        }\r\n    },\r\n\t//创建房间完成\r\n\tOnPack_CreateRoom:function(serverPack){\r\n\t\tlet agrs = Object.keys(serverPack);\r\n        if(0 == agrs.length)//俱乐部会回空包\r\n            return;\r\n\t\tif(serverPack.createType==2){\r\n\t\t\tapp[app.subGameName + \"_FormManager\"]().ShowForm('UIDaiKai');\r\n            app[app.subGameName + \"_FormManager\"]().CloseForm('UICreatRoom');\r\n\t\t}else{\r\n\t\t\tthis.SendGetRoomInfo(serverPack.roomID);\r\n\t\t}\r\n\t},\r\n\r\n\t//获取到房间完整信息\r\n\tOnPack_GetRoomInfo:function(serverPack){\r\n\r\n\t\tif(serverPack[\"NotFind_Player\"]){\r\n\t\t\tapp.SysNotifyManager().ShowSysMsg('PLAYER_NOT_ROOM');\r\n\t\t\tapp[app.subGameName + \"Client\"].ExitGame();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\telse if(serverPack[\"NotFind_Room\"]){\r\n\t\t\tapp.SysNotifyManager().ShowSysMsg('Room_NotFindRoom');\r\n\t\t\tapp[app.subGameName + \"Client\"].ExitGame();\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.enterRoomID = serverPack[\"roomID\"];\r\n\t\tthis.clubId = serverPack[\"cfg\"][\"clubId\"];\r\n\t\tthis.unionId = serverPack[\"cfg\"][\"unionId\"];\r\n\t\tthis.DDZRoom.OnInitRoomData(serverPack);\r\n\t\t//进入打牌场景\r\n\t\tif (app.ddz_SceneManager().GetSceneType()!=\"ddzScene\") {\r\n\t\t\tapp.ddz_SceneManager().LoadScene(\"ddzScene\");\r\n\t\t}else{\r\n\t\t\tlet lastIs3DShow = app.LocalDataManager().GetConfigProperty(\"SysSetting\", app.subGameName+\"_is3DShow\");\r\n\t\t\tif (lastIs3DShow == 1) {\r\n\t\t\t\tapp[app.subGameName + \"_FormManager\"]().CloseForm(\"game/\" + app.subGameName.toUpperCase() + \"/UI\" + app.subGameName.toUpperCase() + \"_2DPlay\");\r\n\t\t\t\tapp[app.subGameName + \"_FormManager\"]().ShowForm(\"game/\" + app.subGameName.toUpperCase() + \"/UI\" + app.subGameName.toUpperCase() + \"_Play\");\r\n\t\t\t} else {\r\n\t\t\t\tapp[app.subGameName + \"_FormManager\"]().CloseForm(\"game/\" + app.subGameName.toUpperCase() + \"/UI\" + app.subGameName.toUpperCase() + \"_Play\");\r\n\t\t\t\tapp[app.subGameName + \"_FormManager\"]().ShowForm(\"game/\" + app.subGameName.toUpperCase() + \"/UI\" + app.subGameName.toUpperCase() + \"_2DPlay\");\r\n\t\t\t}\r\n\t\t}\r\n\t\t// cc.sys.localStorage.setItem(\"latelyGameType\", app.subGameName);\r\n\t},\r\n\t//--------------notify-----------------\r\n\t//set开始\r\n\tOnPack_SetStart:function(serverPack){\r\n\t\tlet roomID = serverPack[\"roomID\"];\r\n\t\tlet setInfo = serverPack[\"setInfo\"];\r\n\t\tthis.DDZRoom.OnSetStart(setInfo);\r\n\t\tapp[app.subGameName + \"Client\"].OnEvent(\"DDZSetStart\", serverPack);\r\n\t},\r\n\r\n\t//set结束\r\n\tOnPack_SetEnd:function(serverPack){\r\n\t\tthis.DDZRoom.OnSetEnd(serverPack);\r\n\t\tapp[app.subGameName + \"Client\"].OnEvent(\"DDZSetEnd\", serverPack);\r\n\t},\r\n\r\n\t//房间开始\r\n\tOnPack_RoomStart:function(serverPack){\r\n\t\tthis.ErrLog(\"OnPack_RoomStart:\", serverPack);\r\n\t\tapp[app.subGameName + \"Client\"].OnEvent(\"RoomStart\", {});\r\n\t},\r\n\t//比赛分不足时通知\r\n\tOnPack_SportsPointNotEnough:function (serverPack) {\r\n\t\tapp[app.subGameName + \"Client\"].OnEvent(\"SportsPointNotEnough\", serverPack);\r\n\t},\r\n\tOnPack_SportsPointEnough:function (serverPack) {\r\n\t\tapp[app.subGameName + \"Client\"].OnEvent(\"SportsPointEnough\", serverPack);\r\n\t},\r\n\t//比赛分门槛不足时通知\r\n    OnPack_SportsPointThresholdNotEnough: function (serverPack) {\r\n        app[app.subGameName + \"Client\"].OnEvent(\"SportsPointThresholdNotEnough\", serverPack);\r\n    },\r\n    OnPack_SportsPointThresholdEnough: function (serverPack) {\r\n        app[app.subGameName + \"Client\"].OnEvent(\"SportsPointThresholdEnough\", serverPack);\r\n    },\r\n\t//玩家的比赛分在游戏外被改变通知\r\n\tOnPack_SportsPointChange:function (serverPack) {\r\n\t\tthis[app.subGameName.toUpperCase()+\"Room\"].OnSportsPointChange(serverPack);\r\n\t\tapp[app.subGameName + \"Client\"].OnEvent(\"RoomSportsPointChange\", serverPack);\r\n\t},\r\n\tOnPack_OpCard:function(serverPack){\r\n\t\tconsole.log(\"serverPack ==\"+serverPack);\r\n\t\tapp[app.subGameName + \"Client\"].OnEvent(\"OpCard\", serverPack);\r\n\t},\r\n\r\n\tOnPack_ChangeStatus:function(serverPack){\r\n\t\tconsole.log(\"改变玩家出牌位置和游戏状态\");\r\n\t\tthis.DDZRoom.OnPlaying(serverPack);\r\n\t\tapp[app.subGameName + \"Client\"].OnEvent(\"ChangeStatus\", serverPack);\r\n\t},\r\n\r\n\tOnPack_AddDouble:function(serverPack){\r\n\t\tconsole.log(\"显示玩家倍数\");\r\n\t\tapp[app.subGameName + \"Client\"].OnEvent(\"AddDouble\", serverPack);\r\n\t},\r\n\r\n\tOnPack_OpenCard:function(serverPack){\r\n\t\tapp[app.subGameName + \"Client\"].OnEvent(\"OpenCard\", serverPack);\r\n\t},\r\n\r\n\tOnPack_Hog:function(serverPack){\r\n\t\tapp[app.subGameName + \"Client\"].OnEvent(\"Hog\", serverPack);\r\n\t},\r\n\t//明牌开始 通知\r\n\tOnPack_OpenStartGame:function(serverPack){\r\n\t\tapp[app.subGameName + \"Client\"].OnEvent(\"OpenStartGame\", serverPack);\r\n\t},\r\n\t//记牌器通知\r\n\tOnPack_CardNumber:function(serverPack){\r\n\t\tapp[app.subGameName + \"Client\"].OnEvent(\"CardNumber\", serverPack);\r\n\t},\r\n\r\n\t//房间结束\r\n\tOnPack_RoomEnd:function(serverPack){\r\n\t\tthis.DDZRoom.OnRoomEnd(serverPack);\r\n\t\tapp[app.subGameName + \"Client\"].OnEvent(\"RoomEnd\", serverPack);\r\n\t},\r\n\r\n    //获取对局记录信息\r\n    OnPack_RoomRecord:function (serverPack) {\r\n\t\tlet records = serverPack[\"records\"];\r\n\t\tthis.DDZRoom.RoomRecord(records);\r\n        app[app.subGameName + \"Client\"].OnEvent(\"RoomRecord\", records);\r\n    },\r\n\r\n    OnPack_ChatMessage:function (serverPack) {\r\n\t\tapp[app.subGameName + \"Client\"].OnEvent(\"ChatMessage\", serverPack);\r\n\t},\r\n\r\n\t//---------------------获取接口------------------------------\r\n\tGetEnterRoomID:function(){\r\n\t\treturn this.enterRoomID\r\n\t},\r\n\r\n\tGetEnterRoom:function(){\r\n\t\tif(!this.enterRoomID){\r\n\t\t\tthis.ErrLog(\"GetEnterRoom not enterRoom\");\r\n\t\t\treturn\r\n\t\t}\r\n\t\treturn this.DDZRoom\r\n\t},\r\n\t//-----------------------发包函数-----------------------------\r\n\r\n\r\n\t//登录获取当前进入的房间ID\r\n\tSendGetCurRoomID:function(){\r\n\t\tthis.NetManager.SendPack(\"ddz.CDDZGetRoomID\", {});\r\n\t},\r\n\t\r\n\t//发送创建房间\r\n\tSendCreateRoom:function(sendPack){\r\n\t\tthis.NetManager.SendPack(\"ddz.CDDZCreateRoom\", sendPack);\r\n\t},\r\n\r\n\t//获取房间信息\r\n    SendGetRoomInfo: function (roomID, callback, errorCb) {\r\n        this.NetManager.SendPack(app.subGameName + \".C\" + app.subGameName.toUpperCase() + \"GetRoomInfo\", { \"roomID\": roomID }, function (success) {\r\n            console.log(\"获取房间信息成功\", success);\r\n            callback && callback();\r\n        }, function (error) {\r\n            console.log(\"获取房间信息失败\", error, roomID);\r\n            errorCb && errorCb(error, roomID);\r\n            app[app.subGameName + \"Client\"].ExitGame();\r\n        });\r\n    },\r\n\r\n\t//解散房间\r\n\tSendDissolveRoom:function(roomID){\r\n\t\tthis.NetManager.SendPack(\"ddz.CDDZDissolveRoom\", {\"roomID\":roomID});\r\n\t},\r\n\r\n\t//位置发送准备状态\r\n\tSendReady:function(roomID, posIndex){\r\n\t\tthis.NetManager.SendPack(\"ddz.CDDZReadyRoom\", {\"roomID\":roomID, \"posIndex\":posIndex});\r\n\t},\r\n\r\n\t//发送取消准备状态\r\n\tSendUnReady:function(roomID, posIndex){\r\n\t\tthis.NetManager.SendPack(\"ddz.CDDZUnReadyRoom\", {\"roomID\":roomID, \"posIndex\":posIndex});\r\n\t},\r\n\r\n\t//房主T人\r\n    SendKickPosIndex:function(roomID, posIndex){\r\n\t\tthis.NetManager.SendPack(\"ddz.CDDZKickRoom\", {\"roomID\":roomID, \"posIndex\":posIndex});\r\n\t},\r\n\r\n\t//开始游戏\r\n\tSendStartRoomGame:function(roomID){\r\n\t\tconsole.log('SendStartRoomGame roomID',roomID);\r\n\t\tthis.NetManager.SendPack(\"ddz.CDDZStartGame\", {\"roomID\":roomID});\r\n\t},\r\n\t//明牌开始\r\n\tSendOpenCardStart:function(roomID, isContinue, isOpenCard){\r\n\t\tconsole.log('SendOpenCardStart roomID',roomID);\r\n\t\tthis.NetManager.SendPack(\"ddz.CDDZOpenStartGame\", {\"roomID\":roomID, \"isContinue\":isContinue, \"openCard\":isOpenCard});\r\n\t},\r\n\r\n\t//发送继续游戏\r\n\tSendContinueGame:function(roomID){\r\n\t\tthis.NetManager.SendPack(\"ddz.CDDZContinueGame\", {\"roomID\":roomID});\r\n\t},\r\n\r\n\t//发送同意解散房间\r\n\tSendDissolveRoomAgree:function(roomID){\r\n\t\tthis.NetManager.SendPack(\"ddz.CDDZDissolveRoomAgree\", {\"roomID\":roomID});\r\n\t},\r\n\r\n\t//发送拒绝解散房间\r\n\tSendDissolveRoomRefuse:function(roomID){\r\n\t\tthis.NetManager.SendPack(\"ddz.CDDZDissolveRoomRefuse\", {\"roomID\":roomID});\r\n\t},\r\n\r\n\t//退出房间\r\n\tSendExitRoom:function(roomID, pos){\r\n\t\tthis.NetManager.SendPack(\"ddz.CDDZExitRoom\", {\"roomID\":roomID, \"posIndex\":pos});\r\n\t},\r\n\r\n\t//请求对局记录封包\r\n\tSendRoomRecord:function (roomID) {\r\n        this.NetManager.SendPack(\"ddz.CDDZRoomRecord\", {\"roomID\":roomID});\r\n    },\r\n\r\n    //获取每一局的玩家记录\r\n    sendEveryGameRecord:function(roomID){\r\n    \tthis.NetManager.SendPack(\"game.CPlayerSetRoomRecord\", {\"roomID\":roomID});\r\n\t},\r\n\t\r\n    SendEndRoom:function(roomID){\r\n    \tthis.NetManager.SendPack(\"ddz.CDDZEndRoom\", {\"roomID\":roomID});\r\n\t},\r\n\r\n\tSendOpCard:function(sendPack){\r\n    \tthis.NetManager.SendPack(\"ddz.CDDZOpCard\", sendPack);\r\n\t},\r\n\t\r\n\tSendAddDouble:function(roomID, addDouble){\r\n\t\tthis.NetManager.SendPack(\"ddz.CDDZAddDouble\", {\"roomID\":roomID,\"addDouble\":addDouble});\r\n\t},\r\n\r\n\tSendOpenCard:function(roomID, isOpen, multiple){\r\n\t\tthis.NetManager.SendPack(\"ddz.CDDZOpenCard\", {\"roomID\":roomID, \"OpenCard\":isOpen, \"multiple\":multiple});\r\n\t},\r\n\r\n\tSendHog:function(roomID, hog){\r\n\t\tthis.NetManager.SendPack(\"ddz.CDDZHog\", {\"roomID\":roomID, \"hog\":hog});\r\n\t},\r\n\tSendFaPaiFinish:function(pos){\r\n        if (!this.enterRoomID) {\r\n            return\r\n        }\r\n        let roomID = this.enterRoomID;\r\n        let sendPack = {\r\n            \"roomID\": roomID,\r\n            \"pos\": pos,\r\n        };\r\n        this.NetManager.SendPack(app.subGameName + \".C\" + app.subGameName.toUpperCase()  + \"FaPaiJieShu\", sendPack);\r\n    },\r\n})\r\n\r\n\r\nvar g_DDZRoomMgr = null;\r\n\r\n/**\r\n * 绑定模块外部方法\r\n */\r\nexports.GetModel = function(){\r\n\tif(!g_DDZRoomMgr)\r\n\t\tg_DDZRoomMgr = new DDZRoomMgr();\r\n\treturn g_DDZRoomMgr;\r\n\r\n}\r\n"]}