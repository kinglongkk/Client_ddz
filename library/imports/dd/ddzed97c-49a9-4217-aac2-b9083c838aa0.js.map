{"version":3,"sources":["../../../../../assets/script/sdk/assets/script/sdk/ddz_NativeNotify.js"],"names":["app","require","window","ddz_NativeNotify","OnNativeNotify","eventType","eventDataString","console","log","subGameName","dataDict","JSON","parse","ddz_WeChatAppManager","OnNativeNotifyWXLogin","OnNativeNotifyWXShare","OnNativeNotifyWXPay","OnEvent","ddz_DownLoadMgr","OnDownLoadEvent","ddz_LocationOnStartMgr","OnGetLocationCallBack","OnGetLocationForBaiduMapCallBack","error"],"mappings":"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","file":"ddz_NativeNotify.js","sourceRoot":"../../../../../assets/script/sdk","sourcesContent":["/*\r\n * \tNativeManager.js\r\n * \t移动端接口管理器\r\n *\r\n *\tauthor:hongdian\r\n *\tdate:2014-10-28\r\n *\tversion:1.0\r\n *\r\n * 修改时间 修改人 修改内容:\r\n *\r\n * change: \"2014-10-28 20:24\" hongdian 同步C++\r\n *\r\n */\r\nvar app = require(\"ddz_app\");\r\n/**\r\n * 类构造\r\n */\r\nwindow.ddz_NativeNotify = {\r\n\t//native平台回调\r\n\tOnNativeNotify:function(eventType, eventDataString){\r\n        try {\r\n        \tconsole.log(app.subGameName + \"_NativeNotify OnNativeNotify eventType:\" + eventType + \",eventDataString:\" + eventDataString);\r\n            let dataDict = JSON.parse(eventDataString);\r\n            if (dataDict[\"subGameName\"] != app.subGameName) {\r\n                return;\r\n            }\r\n            if (eventType == \"wechat\") { //微信登录\r\n\t            app.ddz_WeChatAppManager().OnNativeNotifyWXLogin(dataDict);\r\n            }else if (eventType == \"wechatShare\") {  //微信分享\r\n                app.ddz_WeChatAppManager().OnNativeNotifyWXShare(dataDict);\r\n            }else if (eventType == \"wechatPay\") { //微信支付\r\n                app.ddz_WeChatAppManager().OnNativeNotifyWXPay(dataDict);\r\n            }else if (eventType == \"onBatteryLevel\") { //电量回掉\r\n                app[app.subGameName + \"Client\"].OnEvent(\"EvtBatteryLevel\",{\"Level\": dataDict[\"Level\"], \"status\":dataDict[\"status\"]});\r\n            }else if (eventType == \"apkProess\") { //下载apk进度\r\n                app[app.subGameName + \"Client\"].OnEvent(\"LoadApkProess\", {\"progress\": dataDict[\"proess\"]});\r\n            }else if (eventType == \"download\") { //下载\r\n            \tapp.ddz_DownLoadMgr().OnDownLoadEvent(dataDict);\r\n            }else if (eventType == \"palyAudioFinsh\") { //播放完成\r\n            \tapp[app.subGameName + \"Client\"].OnEvent(\"palyAudioFinsh\", {});\r\n            }else if (eventType == \"AudioError\") {//录音失败\r\n            \tapp[app.subGameName + \"Client\"].OnEvent(\"AudioError\", {});\r\n\t\t\t}else if (eventType == \"AudioStopError\") {//录音失败\r\n            \tapp[app.subGameName + \"Client\"].OnEvent(\"AudioStopError\", {});\r\n            }else if (eventType == \"MedioRecordError\") {//播放失败\r\n            \tapp[app.subGameName + \"Client\"].OnEvent(\"MedioRecordError\", {});\r\n            }else if (eventType == \"wellPrepared\") {//准备录音\r\n            \tapp[app.subGameName + \"Client\"].OnEvent(\"wellPrepared\", {});\r\n            }else if (eventType == \"RecordAudioFinsh\") { //录音完成\r\n            \tapp[app.subGameName + \"Client\"].OnEvent(\"RECORDAUDIOFINSH\", {});\r\n            }else if (eventType == \"GETLOCATION\") { //获取定位\r\n                app.ddz_LocationOnStartMgr().OnGetLocationCallBack(dataDict);\r\n            }else if (eventType == \"OnGetLocationForBaiduMapCallBack\") { //获取百度定位结果\r\n            \tapp[app.subGameName + \"_LocationOnStartMgr\"]().OnGetLocationForBaiduMapCallBack(dataDict);\r\n            }else if (eventType == \"copyText\") { //获取定位\r\n            \tapp[app.subGameName + \"Client\"].OnEvent(\"OnCopyTextNtf\", dataDict);\r\n            }else if (eventType == \"DDShare\") {\r\n            \tapp[app.subGameName + \"Client\"].OnEvent(\"OnDDShare\", dataDict);\r\n            }else if (eventType == \"XLShare\") {\r\n            \tapp[app.subGameName + \"Client\"].OnEvent(\"OnXLShare\", dataDict);\r\n            }else{\r\n                console.log(app.subGameName + \"_NativeNotify OnNativeNotify not find eventType: \" + eventType); \r\n            }\r\n        }\r\n        catch(error) {\r\n            if(eventType=='wechatShare'){\r\n        \t\t//还是给分享成功回调\r\n            \tapp.ddz_WeChatAppManager().OnNativeNotifyWXShare({\"ErrCode\":0});\r\n        \t}else{\r\n            \t// this.ErrLog(\"OnNativeNotify(%s,%s) error(%s), error.stack:%s\", eventType, eventDataString, error, error.stack);\r\n                console.log(app.subGameName + \"_NativeNotify OnNativeNotify error: \" + eventType);\r\n        \t}\r\n        }\r\n\t},\r\n}"]}