{"version":3,"sources":["ddz_UIPractice.js"],"names":["app","require","cc","Class","extends","subGameName","properties","contentNode","Node","OnCreateInit","practiceConfig","ddz_SysDataManager","GetTableDict","FormManager","ddz_FormManager","NetManager","ddz_NetManager","playerNumList","practiceId","RegEvent","Event_GetCurRoomID","Event_CodeError","OnShow","gameType","SetGameType","curRoomID","curGameTypeStr","ddz_GameManager","SetGetRoomIDByUI","SendPack","SetAutoPlayIng","CloseForm","ShowForm","sendGameType","sendPack","toUpperCase","OnSuccessInitData","bind","serverPack","list","gameLists","length","splice","idx","push","UpdatePractice","refreshList","key","i","childNode","children","baseNum","baseMark","toFixed","toString","getChildByName","getComponent","Label","string","playerNum","min","max","needStr","parseInt","event","roomID","toLowerCase","codeInfo","code","ShareDefine","NotFind_Room","SysNotifyManager","ShowSysMsg","NotEnoughCoin","WaitForConfirm","Confirm","MuchCoin","ConfirmOK","OnClose","SetWaitForConfirm","msgID","type","msgArg","cbArg","ConfirmManager","ddz_ConfirmManager","SetWaitForConfirmForm","OnConFirm","ShowConfirm","clickType","backArgList","Click_btn_goRoom","testData","action","fromName","ExitGame","clubId","clubCardNtfs","data","setTimeout","ddz_SysNotifyManager","clubName","roomcardattention","GetCfgByGameName","gameName","cfgList","sendPracticeId","argList","Array","prototype","slice","call","arguments","Math","floor","substring","OnSuccess","OnEnterRoomFailed","OnClick","btnName","btnNode","needCfgList","id","gold","ddz_HeroManager","GetHeroProperty","ErrLog","needId","console","log","ddz_ShareDefine"],"mappings":"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","file":"ddz_UIPractice.js","sourceRoot":"../../../../../assets/script/ui","sourcesContent":["var app = require(\"ddz_app\");\r\ncc.Class({\r\n    extends: require(app.subGameName + \"_BaseForm\"),\r\n\r\n    properties: {\r\n        contentNode:cc.Node,\r\n    },\r\n    OnCreateInit: function () {\r\n        this.practiceConfig = app.ddz_SysDataManager().GetTableDict(\"practice\");\r\n        this.FormManager = app.ddz_FormManager();\r\n        this.NetManager=app.ddz_NetManager();\r\n        this.playerNumList = [];\r\n        this.practiceId = 0;\r\n        this.RegEvent(\"GetCurRoomID\", this.Event_GetCurRoomID, this);\r\n        this.RegEvent(\"CodeError\", this.Event_CodeError, this);\r\n    },\r\n    //-----------------显示函数------------------\r\n    OnShow: function () {\r\n        this.gameType = app.subGameName;\r\n        app[app.subGameName + \"Client\"].SetGameType('');\r\n        this.curRoomID = 0;\r\n        this.curGameTypeStr = \"\";\r\n        app.ddz_GameManager().SetGetRoomIDByUI(true);\r\n        app.ddz_NetManager().SendPack(\"game.C1101GetRoomID\", {});\r\n        app.ddz_GameManager().SetAutoPlayIng(false);\r\n        this.FormManager.CloseForm(\"UIAutoPlay\");\r\n        this.FormManager.ShowForm(app.subGameName + \"_UINoticeBar\");\r\n        this.FormManager.ShowForm(app.subGameName + \"_UITop\", app.subGameName + \"_UIPractice\",true,false,true);\r\n        this.sendGameType();\r\n    },\r\n    sendGameType:function(){\r\n        let sendPack = {\r\n            'gameType':this.gameType\r\n        }\r\n        app.ddz_NetManager().SendPack(app.subGameName + \".C\" + app.subGameName.toUpperCase() + \"GoldList\", sendPack, this.OnSuccessInitData.bind(this));\r\n    },\r\n    OnSuccessInitData:function(serverPack){\r\n        //获取服务端传过来的数据\r\n        let list = serverPack.gameLists;\r\n        if(this.playerNumList && this.playerNumList.length){\r\n            this.playerNumList.splice(0, this.playerNumList.length);\r\n        }\r\n        for(let idx = 0; idx < list.length; idx++){\r\n            this.playerNumList.push(list[idx]);\r\n        }\r\n        this.UpdatePractice();\r\n    },\r\n    UpdatePractice:function(){\r\n        let refreshList = []; \r\n        for(let key in this.practiceConfig){\r\n            if(this.gameType == this.practiceConfig[key]['gameType'])\r\n                refreshList.push(this.practiceConfig[key]);\r\n        }\r\n        for(let i=0;i<refreshList.length;i++){\r\n            if(i>3){\r\n                break;\r\n            }\r\n            let childNode=this.contentNode.children[i];\r\n            let baseNum = refreshList[i]['baseMark'];\r\n            let baseMark = '';\r\n            if(baseMark >= 10000)\r\n                baseMark = (baseNum / 10000).toFixed(1) + '万';\r\n            else if(baseMark > 1000)\r\n                baseMark = (baseNum / 1000).toFixed(1) + '千';\r\n            else\r\n                baseMark = baseNum.toString();\r\n            childNode.getChildByName('lb_difen').getComponent(cc.Label).string = \"底分:\"+baseMark;\r\n            if(this.playerNumList.length){\r\n                childNode.getChildByName('lb_renshu').getComponent(cc.Label).string = (this.playerNumList[i].playerNum).toString() + '人';\r\n            }\r\n            let min = refreshList[i]['min'];\r\n            let max = refreshList[i]['max'];\r\n            let needStr = '';\r\n            if(0 == max){\r\n                if(min < 1000)\r\n                    needStr = min.toString();\r\n                else if(min >= 10000)\r\n                    needStr = parseInt(min / 10000).toString() + '万以上';\r\n                else\r\n                    needStr = parseInt(min / 1000).toString() + '千以上';\r\n            }\r\n            else{\r\n                if(min < 1000)\r\n                    needStr = min.toString() + '-';\r\n                else if(min >= 10000)\r\n                    needStr = parseInt(min / 10000).toString() + '万-';\r\n                else\r\n                    needStr = parseInt(min / 1000).toString() + '千-';\r\n\r\n                if(max < 1000)\r\n                    needStr += max.toString();\r\n                else if(max >= 10000)\r\n                    needStr += parseInt(max / 10000).toString() + '万';\r\n                else\r\n                    needStr += parseInt(max / 1000).toString() + '千';\r\n            }\r\n            childNode.getChildByName('lb_zhunru').getComponent(cc.Label).string = \"准入:\"+needStr;\r\n        }\r\n    },\r\n    Event_GetCurRoomID:function(event){\r\n        let serverPack = event;\r\n        this.curRoomID = serverPack.roomID;\r\n        if(0 != this.curRoomID){\r\n            this.curGameTypeStr = serverPack.gameType.toLowerCase();\r\n        }\r\n    },\r\n    Event_CodeError:function(event){\r\n        let codeInfo = event;\r\n        let code = codeInfo[\"Code\"];\r\n        if(code == this.ShareDefine.NotFind_Room){\r\n            app.SysNotifyManager().ShowSysMsg('DissolveRoom');\r\n            this.curRoomID = 0;\r\n            this.curGameTypeStr = '';\r\n        }else if(code == this.ShareDefine.NotEnoughCoin){\r\n            this.WaitForConfirm(\"MSG_NOTROOMCOIN\", [], [], this.ShareDefine.Confirm);\r\n        }\r\n        else if(code == this.ShareDefine.MuchCoin){\r\n            this.WaitForConfirm(\"MSG_TOOMUCHCOIN\", [], [], this.ShareDefine.ConfirmOK);\r\n        }\r\n    },\r\n    OnClose:function(){\r\n    },\r\n    //---------点击函数---------------------\r\n    SetWaitForConfirm:function(msgID,type,msgArg=[],cbArg=[]){\r\n        let ConfirmManager = app.ddz_ConfirmManager();\r\n        ConfirmManager.SetWaitForConfirmForm(this.OnConFirm.bind(this), msgID, cbArg);\r\n        ConfirmManager.ShowConfirm(type, msgID, msgArg);\r\n    },\r\n    OnConFirm:function(clickType, msgID, backArgList){\r\n        if(clickType != \"Sure\"){\r\n            return\r\n        }\r\n        if('MSG_GO_ROOM' == msgID){\r\n            this.Click_btn_goRoom();\r\n        }\r\n        else if('MSG_NOTROOMCOIN'== msgID){\r\n            let testData = {action:\"showForm\", fromName:\"UIStore\"};\r\n            app[app.subGameName + \"Client\"].ExitGame(testData);\r\n        }\r\n        else if('MSG_CLUB_RoomCard_Not_Enough' == msgID){\r\n            let clubId = backArgList[0];\r\n            for(let i=0;i<this.clubCardNtfs.length;i++){\r\n                if(this.clubCardNtfs[i].clubId == clubId){\r\n                    this.clubCardNtfs.splice(i,1);\r\n                    break;\r\n                }\r\n            }\r\n            if(0 != this.clubCardNtfs.length){\r\n                let data = this.clubCardNtfs[0];\r\n                setTimeout(function(){\r\n                    app.ddz_SysNotifyManager().ShowSysMsg('MSG_CLUB_RoomCard_Not_Enough',[data.clubName,data.roomcardattention]);\r\n                },200);\r\n            }\r\n        }\r\n    },\r\n    GetCfgByGameName:function(gameName){\r\n        let cfgList = [];\r\n        for(let key in this.practiceConfig){\r\n            if(gameName == this.practiceConfig[key].gameType)\r\n                cfgList.push(this.practiceConfig[key]);\r\n        }\r\n        return cfgList;\r\n    },\r\n    sendPracticeId:function(){\r\n        var argList = Array.prototype.slice.call(arguments);\r\n        let idx = 0;\r\n        if(typeof argList[0] == 'string'){\r\n             idx = Math.floor(argList[0].substring(('item').length));\r\n        }\r\n        else if(typeof argList[0] == 'number'){\r\n            idx = argList[0];\r\n        }\r\n        this.practiceId = idx;\r\n\r\n        let sendPack = {\r\n            practiceId:idx\r\n        }\r\n        app.ddz_NetManager().SendPack(app.subGameName + \".C\" + app.subGameName.toUpperCase() + \"GoldRoom\", sendPack, this.OnSuccess.bind(this), this.OnEnterRoomFailed.bind(this));\r\n    },\r\n    OnClick:function(btnName, btnNode){\r\n        let needCfgList=[];\r\n        if('btn_xsc' == btnName){\r\n            needCfgList = this.GetCfgByGameName(this.gameType);\r\n            this.sendPracticeId(needCfgList[0].id);\r\n        }else if('btn_cjc' == btnName){\r\n            needCfgList = this.GetCfgByGameName(this.gameType);\r\n            this.sendPracticeId(needCfgList[1].id);\r\n        }else if('btn_zjc' == btnName){\r\n            needCfgList = this.GetCfgByGameName(this.gameType);\r\n            this.sendPracticeId(needCfgList[2].id);\r\n        }else if('btn_gjc' == btnName){\r\n            needCfgList = this.GetCfgByGameName(this.gameType);\r\n            this.sendPracticeId(needCfgList[3].id);\r\n        }else if('btn_go' == btnName){\r\n            let gold = app.ddz_HeroManager().GetHeroProperty('gold');\r\n            needCfgList = this.GetCfgByGameName(this.gameType);\r\n            if(0 == needCfgList.length){\r\n                this.ErrLog('needCfgList Error curGameName :' + this.gameType);\r\n                return;\r\n            }\r\n            if(gold < needCfgList[0].min){\r\n                this.WaitForConfirm(\"MSG_NOTROOMCOIN\", [], [], this.ShareDefine.Confirm);\r\n                return;\r\n            }\r\n            let needId = -1;\r\n            for(let i=0;i<needCfgList.length;i++){\r\n                if(gold >= needCfgList[i].min && \r\n                    (gold <= needCfgList[i].max || 0 == needCfgList[i].max)){\r\n                    needId = needCfgList[i].id;\r\n                    break;\r\n                }\r\n            }\r\n            if(-1 == needId){\r\n                this.ErrLog('CfgError needId = -1');\r\n                return;\r\n            }\r\n            this.sendPracticeId(needId);\r\n        }\r\n        else{\r\n            this.ErrLog(\"OnClick(%s) not find\",btnName);\r\n        }\r\n        \r\n    },\r\n\r\n    OnSuccess:function(serverPack){\r\n        console.log('OnSuccess serverPack', serverPack);\r\n        let roomID = serverPack.roomID;\r\n        app.ddz_NetManager().SendPack('ddz.CDDZGetRoomInfo', {\"roomID\":roomID});\r\n        app.ddz_ShareDefine().practiceId = this.practiceId;\r\n    },\r\n\r\n    OnEnterRoomFailed:function(serverPack){\r\n        console.log('OnEnterRoomFailed serverPack', serverPack);\r\n    },\r\n});"]}