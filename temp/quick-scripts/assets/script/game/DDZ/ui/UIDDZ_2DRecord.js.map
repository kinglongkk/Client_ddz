{"version":3,"sources":["UIDDZ_2DRecord.js"],"names":["app","require","cc","Class","extends","subGameName","properties","room_Id","Label","end_Time","lb_jushu","fristLayout","Node","exitBtnNode","exitRoomBtnNode","wolaikaijuBtnNode","pingfenkaijuBtnNode","dayingjiakaijuBtnNode","icon_fct","SpriteFrame","icon_ct","boy","girl","icon_dissolveSpr","OnCreateInit","btn_continue","GetWndNode","PokerModle","fristFrame","node","getChildByName","fristScorll","getComponent","ScrollView","redColor","Color","greenColor","RegEvent","CloseForm","curSetId","totalSetId","backCode","Event_NewVersion","isNewVersion","OnShow","datainfo","playerList","needShowIndex","CheckUpdate","active","HideAllBtn","needShowSecond","dataByZhanJi","clubId","setID","endSec","roomKey","roomID","setId","endTime","key","roomId","fristData","countRecords","NetManager","SendPack","roomMrg","DDZRoomMgr","room","GetEnterRoom","roomEnd","GetRoomProperty","record","roomCfg","GetRoomConfig","string","i18n","t","ComTool","GetDateYearMonthDayHourMinuteString","UpdateFristFrame","stopAutoScroll","dataCount","i","length","pid","bigBang","lastPoint","point","showTipIndex","nodeObjs","allNum","winCount","loseCount","flatCount","GetFristPrefabAllNode","iconWin","SetUserInfo","userInfo","SetScore","isCoinRoom","createType","curNode","winNum","loseNum","win","lose","lb_spTitle","lb_winSp","lb_loseSp","icon_dissolve","userInfoNode","player","ownerID","GetRoomPosMgr","GetPlayerInfoByPid","ErrLog","playerName","substring","GetPid","wechatSprite","OnLoad","ShowHeroHead","sex","Sprite","spriteFrame","fangzhu","dataIndex","data","sportsPoint","dissolveState","OnClick","btnName","btnNode","DDZRoom","isContinue","SDKManager","ShareScreen","ShowSysMsg","self","toUpperCase","event","Msg","console","log","Code","ExitGame","OnEnterRoomFailed","serverPack"],"mappings":"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","file":"UIDDZ_2DRecord.js","sourceRoot":"../../../../../../../assets/script/game/DDZ/ui","sourcesContent":["var app = require(\"ddz_app\");\r\ncc.Class({\r\n    extends: require(app.subGameName + \"_BaseForm\"),\r\n\r\n    properties: {\r\n        room_Id:cc.Label,\r\n        end_Time:cc.Label,\r\n        lb_jushu:cc.Label,\r\n        fristLayout:cc.Node,\r\n        exitBtnNode:cc.Node,\r\n        exitRoomBtnNode:cc.Node,\r\n\r\n        wolaikaijuBtnNode:cc.Node,\r\n        pingfenkaijuBtnNode:cc.Node,\r\n        dayingjiakaijuBtnNode:cc.Node,\r\n\r\n        icon_fct:cc.SpriteFrame,\r\n        icon_ct:cc.SpriteFrame,\r\n\r\n        boy:cc.SpriteFrame,\r\n        girl:cc.SpriteFrame,\r\n\r\n        icon_dissolveSpr: [cc.SpriteFrame],\r\n    },\r\n\r\n    OnCreateInit: function () {\r\n        this.btn_continue = this.GetWndNode(\"fristFrame/btn_lists/btn_continue\");\r\n        this.PokerModle = app[app.subGameName + \"_PokerCard\"]();\r\n        this.fristFrame = this.node.getChildByName('fristFrame');\r\n        this.fristScorll = this.fristFrame.getChildByName('ScrollView').getComponent(cc.ScrollView);\r\n        this.redColor = new cc.Color(181,104,48);\r\n        this.greenColor = new cc.Color(59,138,133);\r\n        this.RegEvent(\"EVT_CloseDetail\", this.CloseForm, this);\r\n        this.curSetId = 0;\r\n        this.totalSetId = 0;\r\n        this.backCode = 0;\r\n        this.RegEvent(\"NewVersion\", this.Event_NewVersion, this);\r\n    },\r\n    Event_NewVersion:function(){\r\n        this.isNewVersion=true;\r\n    },\r\n\r\n    OnShow:function(datainfo=null,playerList=null,needShowIndex=-1){\r\n        this.isNewVersion=false;\r\n        app[app.subGameName+\"_HotUpdateMgr\"]().CheckUpdate(); //\r\n        this.btn_continue.active = false;\r\n    \tthis.HideAllBtn();\r\n        this.needShowSecond = false;//控制点击数据未到处理\r\n        this.fristFrame.active = false;\r\n\r\n        this.playerList = null;\r\n        this.datainfo = null;\r\n        this.dataByZhanJi = false;\r\n        this.clubId = 0;\r\n        let setID = 0;\r\n        let endSec = '';\r\n        let roomKey = '';\r\n        let roomID = 0;\r\n        if(-1 != needShowIndex){\r\n            this.dataByZhanJi = true;\r\n            this.playerList = playerList;\r\n            this.datainfo = datainfo;\r\n            setID = datainfo.setId;\r\n            endSec = datainfo.endTime;\r\n            roomKey = \"房间号:\" + datainfo.key;\r\n            roomID = datainfo.roomId;\r\n            if(1 == needShowIndex)\r\n                this.fristData = datainfo.countRecords;\r\n            else{\r\n                this.needShowSecond = true;\r\n                app.NetManager().SendPack(\"game.CPlayerSetRoomRecord\", {\"roomID\":roomID});\r\n            }\r\n        }\r\n        else{\r\n            this.roomMrg = app.DDZRoomMgr();\r\n            if(!this.roomMrg){\r\n                this.CloseForm();\r\n                return\r\n            }\r\n            this.room = this.roomMrg.GetEnterRoom();\r\n            if(!this.room){\r\n                this.CloseForm();\r\n                return\r\n            }\r\n            let roomEnd = this.room.GetRoomProperty(\"roomEnd\");\r\n            if(!roomEnd){\r\n                this.CloseForm();\r\n                return\r\n            }\r\n            let record = roomEnd[\"record\"];\r\n            setID = record[\"setCnt\"];\r\n            endSec = record['endSec'];\r\n            roomKey = \"房间号:\" + this.room.GetRoomProperty(\"key\");\r\n            this.fristData = record['recordPosInfosList'];\r\n            roomID = this.room.GetRoomProperty(\"roomID\");\r\n            let roomCfg = this.room.GetRoomConfig();\r\n            this.clubId = roomCfg.clubId;\r\n        }\r\n        this.room_Id.string = roomKey;\r\n        this.totalSetId = setID;\r\n        this.lb_jushu.string = app.i18n.t(\"UIWanFa_setCount\", {\"setCount\": setID});\r\n        this.end_Time.string = this.ComTool.GetDateYearMonthDayHourMinuteString(endSec);\r\n\r\n        this.UpdateFristFrame();\r\n    },\r\n    UpdateFristFrame:function(){\r\n        this.fristScorll.stopAutoScroll();\r\n        let dataCount = 0;\r\n        for(let i=0;i<this.fristData.length;i++){\r\n            if(0 != this.fristData[i].pid)\r\n                dataCount++\r\n        }\r\n        //先找出大赢家\r\n        let bigBang = -1;\r\n        let lastPoint = this.fristData[0].point;\r\n        for(let i=0;i<this.fristData.length;i++){\r\n            if(this.fristData[i].pid <= 0)\r\n                continue;\r\n            if(lastPoint < this.fristData[i].point){\r\n                bigBang = i;\r\n                lastPoint = this.fristData[i].point;\r\n            }\r\n        }\r\n        if(0 != this.fristData[0].point && -1 == bigBang)\r\n            bigBang = 0;\r\n        let showTipIndex = 1;\r\n        let node = null;\r\n        let nodeObjs = {};\r\n        for(let i=0;i<this.fristData.length;i++){\r\n            let allNum = this.fristData[i].winCount + this.fristData[i].loseCount + this.fristData[i].flatCount;\r\n            if(this.fristData[i].pid <= 0 || 0 == allNum)\r\n                continue;\r\n            node = this.fristLayout.getChildByName(\"record\"+(i+1));\r\n            this.GetFristPrefabAllNode(node,nodeObjs);\r\n\r\n            if(bigBang == i || lastPoint == this.fristData[i].point)\r\n                nodeObjs.iconWin.active = true;\r\n            else\r\n                nodeObjs.iconWin.active = false;\r\n\r\n            this.SetUserInfo(nodeObjs.userInfo,this.fristData[i].pid);\r\n            this.SetScore(nodeObjs,i);\r\n        }\r\n        if(this.dataByZhanJi){\r\n            this.exitBtnNode.active = true;\r\n            this.exitRoomBtnNode.active = false;\r\n        }else{\r\n            this.exitBtnNode.active = false;\r\n            this.exitRoomBtnNode.active = true;\r\n            if(!app[app.subGameName + \"_ShareDefine\"]().isCoinRoom){\r\n                let roomCfg=this.room.GetRoomConfig();\r\n                if(0 == this.clubId && roomCfg.createType==1){\r\n                    this.wolaikaijuBtnNode.active=false;\r\n                    this.pingfenkaijuBtnNode.active=false;\r\n                    this.dayingjiakaijuBtnNode.active=false;\r\n                }\r\n                if (0 != roomCfg.clubId) {\r\n                    this.btn_continue.active = true;\r\n                }else{\r\n                    this.btn_continue.active = false;\r\n                }\r\n        \t}\r\n        }\r\n        this.fristFrame.active = true;\r\n    },\r\n    GetFristPrefabAllNode:function(curNode,nodeObjs){\r\n        nodeObjs.userInfo = curNode.getChildByName('user_info');\r\n        nodeObjs.winNum = curNode.getChildByName('lb_win_num');\r\n        nodeObjs.loseNum = curNode.getChildByName('lb_lose_num');\r\n        nodeObjs.win = curNode.getChildByName('lb_win');\r\n        nodeObjs.lose = curNode.getChildByName('lb_lose');\r\n        nodeObjs.iconWin = curNode.getChildByName('icon_win');\r\n        nodeObjs.lb_spTitle = curNode.getChildByName('lb_spTitle');\r\n        nodeObjs.lb_winSp = curNode.getChildByName('lb_winSp');\r\n        nodeObjs.lb_loseSp = curNode.getChildByName('lb_loseSp');\r\n        nodeObjs.icon_dissolve = curNode.getChildByName('icon_dissolve');\r\n    },\r\n    SetUserInfo:function(userInfoNode,pid){\r\n        let player = null;\r\n        let ownerID = 0;\r\n        if(this.dataByZhanJi){\r\n            for(let i=0;i<this.playerList.length;i++){\r\n                if(pid == this.playerList[i].pid){\r\n                    player = this.playerList[i];\r\n                    break;\r\n                }\r\n            }\r\n            ownerID = this.datainfo.ownerID;\r\n        }\r\n        else{\r\n            player = this.room.GetRoomPosMgr().GetPlayerInfoByPid(pid);\r\n            ownerID = this.room.GetRoomProperty(\"ownerID\");\r\n        }\r\n        if(!player){\r\n            this.ErrLog('SetUserInfo Error this.playerList.length = ' + this.playerList.length);\r\n            return;\r\n        }\r\n        let playerName = \"\";\r\n        playerName = player[\"name\"];\r\n        if(playerName.length > 4){\r\n            playerName = playerName.substring(0, 4) + '...';\r\n        }\r\n        userInfoNode.getChildByName(\"lable_name\").getComponent(cc.Label).string = playerName;\r\n\r\n        userInfoNode.getChildByName(\"label_id\").getComponent(cc.Label).string = \"ID:\"+this.ComTool.GetPid(pid);\r\n        let wechatSprite = userInfoNode.getChildByName(\"head_img\").getComponent(app.subGameName + \"_WeChatHeadImage\");\r\n        wechatSprite.OnLoad();\r\n        wechatSprite.ShowHeroHead(pid);\r\n\r\n        //玩家性别\r\n        let sex = userInfoNode.getChildByName(\"sex\");\r\n        if (player.sex == 0) {\r\n            sex.getComponent(cc.Sprite).spriteFrame = this.boy;\r\n        }else{\r\n            sex.getComponent(cc.Sprite).spriteFrame = this.girl;\r\n        }\r\n\r\n        //判断房主是谁\r\n        let fangzhu = userInfoNode.getChildByName(\"fangzhu\");\r\n        if(ownerID == player.pid)\r\n            fangzhu.active = true;\r\n        else\r\n            fangzhu.active = false;\r\n        //判断地主是谁\r\n        // let icon_dzm = userInfoNode.getChildByName(\"icon_dzm\");\r\n        // if(ownerID == player.pid)\r\n        //     icon_dzm.active = true;\r\n        // else\r\n        //     icon_dzm.active = false;\r\n    },\r\n    SetScore:function(nodeObjs,dataIndex){\r\n        let data = this.fristData[dataIndex];\r\n        if(data.point > 0){\r\n            nodeObjs.winNum.active = true;\r\n            nodeObjs.loseNum.active = false;\r\n            // if(data.point > 10000){\r\n            //     let needNum = data.point / 10000;\r\n            //     needNum = needNum.toFixed(1);\r\n            //     nodeObjs.winNum.getComponent(cc.Label).string = '+' + needNum + '万';\r\n            // }\r\n            // else\r\n                nodeObjs.winNum.getComponent(cc.Label).string = '+' + data.point;\r\n        }\r\n        else{\r\n            nodeObjs.winNum.active = false;\r\n            nodeObjs.loseNum.active = true;\r\n            // if(data.point < -10000){\r\n            //     let needNum = data.point / 10000;\r\n            //     needNum = needNum.toFixed(1);\r\n            //     nodeObjs.loseNum.getComponent(cc.Label).string = '' + needNum + '万';;\r\n            // }\r\n            // else\r\n                nodeObjs.loseNum.getComponent(cc.Label).string = data.point;\r\n        }\r\n        nodeObjs.win.getComponent(cc.Label).string = data.winCount;\r\n        nodeObjs.lose.getComponent(cc.Label).string = data.loseCount;\r\n        //比赛分\r\n        if (typeof(data.sportsPoint)!=\"undefined\") {\r\n            if (data.sportsPoint > 0) {\r\n                nodeObjs.lb_loseSp.getComponent(cc.Label).string = \"\";\r\n                nodeObjs.lb_winSp.getComponent(cc.Label).string = '+'+data.sportsPoint;\r\n            }else{\r\n                nodeObjs.lb_winSp.getComponent(cc.Label).string = \"\";\r\n                nodeObjs.lb_loseSp.getComponent(cc.Label).string = ''+data.sportsPoint;\r\n            }\r\n            nodeObjs.lb_spTitle.active = true;\r\n        }else{\r\n            nodeObjs.lb_winSp.getComponent(cc.Label).string = \"\";\r\n            nodeObjs.lb_loseSp.getComponent(cc.Label).string = \"\";\r\n            nodeObjs.lb_spTitle.active = false;\r\n        }\r\n        //显示是否解散（-1:正常结束,0:未操作,1:同意操作,2:拒绝操作,3:发起者）\r\n        if (typeof(data.dissolveState) == \"undefined\" || data.dissolveState == -1) {\r\n            nodeObjs.icon_dissolve.active=false;\r\n        }else{\r\n            nodeObjs.icon_dissolve.active=true;\r\n            nodeObjs.icon_dissolve.getComponent(cc.Sprite).spriteFrame = this.icon_dissolveSpr[data.dissolveState];\r\n        }\r\n    },\r\n\r\n    //-----------------回调函数------------------\r\n\r\n    //---------点击函数---------------------\r\n    HideAllBtn:function(){\r\n    \tthis.exitBtnNode.active = false;\r\n        this.wolaikaijuBtnNode.active=false;\r\n        this.pingfenkaijuBtnNode.active=false;\r\n        this.dayingjiakaijuBtnNode.active=false;\r\n    },\r\n    OnClick:function(btnName, btnNode){\r\n        //继续房间使用\r\n        let room = app.DDZRoom();\r\n        let roomCfg={};\r\n        if(room){\r\n            roomCfg = room.GetRoomConfig();\r\n            roomCfg.isContinue=true;\r\n        }\r\n        //继续房间使用\r\n\r\n        if('btn_close' == btnName){\r\n            if(!this.dataByZhanJi){\r\n                this.fristFrame.active = true;\r\n            }\r\n            else\r\n                this.CloseForm();\r\n        }\r\n        else if('btn_share' == btnName){\r\n            this.SDKManager.ShareScreen();\r\n        }\r\n        else if('btn_continue' == btnName){\r\n            if(this.isNewVersion==true){\r\n                app[app.subGameName + \"_SysNotifyManager\"]().ShowSysMsg(\"游戏有新版本更新，请返回大厅\");\r\n                return;\r\n            }\r\n            let self = this;\r\n            app[app.subGameName + \"_NetManager\"]().SendPack(app.subGameName+\".C\"+app.subGameName.toUpperCase()+\"ContinueEnterRoom\",{}, function(event){\r\n                app[app.subGameName + \"_NetManager\"]().SendPack(\"game.C1101GetRoomID\", {});\r\n                app[app.subGameName + \"_FormManager\"]().CloseForm(\"game/DDZ/UIDDZ_Result\");\r\n                app[app.subGameName + \"_FormManager\"]().CloseForm(\"game/DDZ/UIDDZ_2DResult\");\r\n                app[app.subGameName + \"_FormManager\"]().CloseForm(\"game/DDZ/UIDDZ_2DPlay\");\r\n                self.CloseForm();\r\n            }, function(event){\r\n                if (event.Msg == \"UNION_BACK_OFF_PLAYING\") {\r\n                    app[app.subGameName + \"_SysNotifyManager\"]().ShowSysMsg(\"您已申请退赛，当前无法进行比赛，请取消退赛申请或联系赛事举办方\");\r\n                }else if (event.Msg == \"UNION_APPLY_REMATCH_PLAYING\") {\r\n                    app[app.subGameName + \"_SysNotifyManager\"]().ShowSysMsg(\"您的比赛分不足，已被淘汰，将被禁止参与赛事游戏，如要重新参与比赛，请联系举办方处理\");\r\n                }else if (event.Msg == \"UNION_STATE_STOP\") {\r\n                    app[app.subGameName + \"_SysNotifyManager\"]().ShowSysMsg(\"赛事已停用，无法加入房间，请联系赛事举办方\");\r\n                }else if(event.Msg==\"ROOM_GAME_SERVER_CHANGE\"){\r\n                    console.log(\"切换服务器\");\r\n                }else if(event.Code==12){\r\n                    console.log(\"游戏维护\");\r\n                }else if(event.Msg==\"WarningSport_RoomJoinner\"){\r\n                    app[app.subGameName + \"_SysNotifyManager\"]().ShowSysMsg(\"您所在的推广员队伍或上级队伍比赛分低于预警值，无法加入比赛，请联系管理\");\r\n                }else if(event.Msg==\"CLUB_SPORT_POINT_WARN\"){\r\n                    app[app.subGameName + \"_SysNotifyManager\"]().ShowSysMsg(\"您所在的亲友圈比赛分低于预警值，无法加入比赛，请联系管理\");\r\n                }else{\r\n                    app[app.subGameName + \"_SysNotifyManager\"]().ShowSysMsg(\"无法继续游戏，请联系赛事举办方\");\r\n                }\r\n            });\r\n        }\r\n        else if('btn_exitRoom' == btnName){\r\n            app[app.subGameName + \"Client\"].ExitGame();\r\n        }\r\n        else if('btn_exit' == btnName){\r\n            this.CloseForm();\r\n        }\r\n        else{\r\n            this.ErrLog(\"OnClick(%s) not find btnName\",btnName);\r\n        }\r\n    },\r\n\r\n    OnEnterRoomFailed:function(serverPack){\r\n        app[app.subGameName + \"Client\"].ExitGame();\r\n        console.log('OnEnterRoomFailed serverPack', serverPack);\r\n    },\r\n});"]}