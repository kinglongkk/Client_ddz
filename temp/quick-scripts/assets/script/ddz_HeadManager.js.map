{"version":3,"sources":["ddz_HeadManager.js"],"names":["app","require","ddz_HeadManager","BaseClass","extend","Init","JS_Name","subGameName","OnReload","headInfos","MaxPlayerNum","ddz_ShareDefine","i","push","SetHeadInfo","pos","headNode","GetComponentByPos","component","getComponent","GetAllHeadInfo","g_ddz_HeadManager","exports","GetModel"],"mappings":";;;;;;AAAA;;;;;;;;;;;;;AAaA,IAAIA,MAAMC,QAAQ,SAAR,CAAV;;AAEA;;;AAGA,IAAIC,kBAAkBF,IAAIG,SAAJ,CAAcC,MAAd,CAAqB;;AAEvC;;;AAGAC,UAAK,gBAAU;AACX,aAAKC,OAAL,GAAeN,IAAIO,WAAJ,GAAkB,cAAjC;;AAEA,aAAKC,QAAL;AACH,KATsC;;AAWvCA,cAAS,oBAAU;AACf,aAAKC,SAAL,GAAiB,EAAjB;AACA,YAAIC,eAAeV,IAAIW,eAAJ,GAAsBD,YAAzC;AACA,aAAI,IAAIE,IAAE,CAAV,EAAYA,IAAEF,YAAd,EAA2BE,GAA3B,EAA+B;AAC3B,iBAAKH,SAAL,CAAeI,IAAf,CAAoB,IAApB;AACH;AACJ,KAjBsC;AAkBvCC,iBAAY,qBAASC,GAAT,EAAaC,QAAb,EAAsB;AAC9B,YAAIN,eAAeV,IAAIW,eAAJ,GAAsBD,YAAzC;AACA,YAAGK,OAAOL,YAAP,IAAuBK,MAAM,CAAhC,EACI;;AAEJ,aAAKN,SAAL,CAAeM,GAAf,IAAsBC,QAAtB;AACH,KAxBsC;AAyBvCC,uBAAkB,2BAASF,GAAT,EAAa;AAC3B,YAAIL,eAAeV,IAAIW,eAAJ,GAAsBD,YAAzC;AACA,YAAGK,OAAOL,YAAP,IAAuBK,MAAM,CAAhC,EACI,OAAO,IAAP;;AAEJ,YAAIG,YAAY,KAAKT,SAAL,CAAeM,GAAf,EAAoBI,YAApB,CAAiCnB,IAAIO,WAAJ,GAAkB,eAAnD,CAAhB;AACA,YAAGW,SAAH,EACI,OAAOA,SAAP;AACJ,eAAO,IAAP;AACH,KAlCsC;AAmCvCE,oBAAe,0BAAU;AACrB,eAAO,KAAKX,SAAZ;AACH;AACD;;AAtCuC,CAArB,CAAtB;;AA2CA,IAAIY,oBAAoB,IAAxB;;AAEA;;;AAGAC,QAAQC,QAAR,GAAmB,YAAU;AACzB,QAAG,CAACF,iBAAJ,EACIA,oBAAoB,IAAInB,eAAJ,EAApB;AACJ,WAAOmB,iBAAP;AAEH,CALD","file":"ddz_HeadManager.js","sourceRoot":"../../../../assets/script","sourcesContent":["/*\r\n *  ----------------------------------------------------------------------------------------------------\r\n *  @copyright: Copyright (c) 2004, 2010 Xiamen DDM Network Technology Co.,Ltd., All rights reserved.\r\n *  ----------------------------------------------------------------------------------------------------\r\n *  @package SSSRoom.js\r\n *  @todo: 十三支房间\r\n *\r\n *  @version 1.0\r\n *\r\n *  修改时间 修改人 修改内容\r\n *  -------------------------------------------------------------------------------\r\n *\r\n */\r\nvar app = require(\"ddz_app\");\r\n\r\n/**\r\n * 类构造\r\n */\r\nvar ddz_HeadManager = app.BaseClass.extend({\r\n\r\n    /**\r\n     * 初始化\r\n     */\r\n    Init:function(){\r\n        this.JS_Name = app.subGameName + \"_HeadManager\";\r\n\r\n        this.OnReload();\r\n    },\r\n\r\n    OnReload:function(){\r\n        this.headInfos = [];\r\n        let MaxPlayerNum = app.ddz_ShareDefine().MaxPlayerNum;\r\n        for(let i=0;i<MaxPlayerNum;i++){\r\n            this.headInfos.push(null);\r\n        }\r\n    },\r\n    SetHeadInfo:function(pos,headNode){\r\n        let MaxPlayerNum = app.ddz_ShareDefine().MaxPlayerNum;\r\n        if(pos >= MaxPlayerNum || pos < 0)\r\n            return;\r\n\r\n        this.headInfos[pos] = headNode;\r\n    },\r\n    GetComponentByPos:function(pos){\r\n        let MaxPlayerNum = app.ddz_ShareDefine().MaxPlayerNum;\r\n        if(pos >= MaxPlayerNum || pos < 0)\r\n            return null;\r\n\r\n        let component = this.headInfos[pos].getComponent(app.subGameName + '_UIPublicHead');\r\n        if(component)\r\n            return component;\r\n        return null;\r\n    },\r\n    GetAllHeadInfo:function(){\r\n        return this.headInfos;\r\n    },\r\n    //-----------------------回调函数-----------------------------\r\n    \r\n})\r\n\r\n\r\nvar g_ddz_HeadManager = null;\r\n\r\n/**\r\n * 绑定模块外部方法\r\n */\r\nexports.GetModel = function(){\r\n    if(!g_ddz_HeadManager)\r\n        g_ddz_HeadManager = new ddz_HeadManager();\r\n    return g_ddz_HeadManager;\r\n\r\n}\r\n"]}